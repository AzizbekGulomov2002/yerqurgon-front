import{u as g,l as j,M as k,a2 as v,j as e,U as y,X as i,aB as n,aI as I,aQ as _,o as f,B as o}from"./index-TTKrRBsV.js";import{C as z}from"./CustomModalConfirm-DuPb8srr.js";import{u as F}from"./useSuppliers-Bt7n3lGa.js";import{f as T}from"./storage-products.requests-BGZqPdSR.js";import{T as c}from"./index-Ce0i5KU3.js";import{R as b}from"./EyeFilled-oI1XtQGU.js";import{R as M}from"./EditFilled-96y0AoAx.js";import{R as N}from"./DeleteFilled-Lrowix85.js";const O=(S,l,R,m)=>{const{t:r}=g(),u=j(),{suppliersOptions:p}=F(),x=k({mutationFn:T,onSuccess:()=>{v(r("Muvaffaqiyatli bajarildi !")),m()},onError:t=>{console.log(t)}}),h=t=>{x.mutate(t)};return[{title:"â„–",dataIndex:"id",key:"id"},{title:r("Ta'minotchi"),dataIndex:"supplier",key:"supplier",render:t=>e.jsx(e.Fragment,{children:e.jsx(y,{to:`/storages/suppliers/${i.get(t,"id","")}`,children:i.get(t,"name","")})}),filters:[...p],filteredValue:l.supplier||null,filterSearch:!0,hidden:!1},{title:"Mahsulotlar",key:"products",hidden:!0,children:[{title:r("#"),dataIndex:"products",key:"products",render:(t,a)=>a.products.map((d,s)=>e.jsx("div",{children:s+1},s))},{title:r("Nomi"),dataIndex:"products",key:"products",render:(t,a)=>a.products.map((d,s)=>e.jsx("div",{children:i.get(d.product,"name","")},s))},{title:r("Narxi"),dataIndex:"products",key:"products",render:(t,a)=>a.products.map((d,s)=>e.jsx("div",{children:n(d.price)},s))},{title:r("Size type"),dataIndex:"products",key:"products",render:(t,a)=>a.products.map((d,s)=>e.jsx("div",{children:d.size_type},s))},{title:r("Miqdori"),dataIndex:"products",key:"products",render:(t,a)=>a.products.map((d,s)=>e.jsx("div",{children:n(d.count,d.product.format)},s))},{title:r("Ombor"),dataIndex:"products",key:"products",render:(t,a)=>a.products.map((d,s)=>e.jsx("div",{children:i.get(d.storage,"name","")},s))}]},{title:"Xizmatlar",key:"services",hidden:!0,children:[{title:r("#"),dataIndex:"services",key:"services",render:(t,a)=>a.services.map((d,s)=>e.jsx("div",{children:s+1},s))},{title:r("Nomi"),dataIndex:"services",key:"services",render:(t,a)=>a.services.map((d,s)=>e.jsx("div",{children:i.get(d.service,"name","")},s))},{title:r("Narxi"),dataIndex:"services",key:"services",render:(t,a)=>a.services.map((d,s)=>e.jsx("div",{children:n(d.price)},s))},{title:r("Miqdori"),dataIndex:"services",key:"services",render:(t,a)=>a.services.map((d,s)=>e.jsx("div",{children:n(d.count,r("ta"))},s))}]},{title:r("Jami summa (mahsulotlar)"),dataIndex:"total_product_summa",key:"total_product_summa",render:t=>e.jsx(e.Fragment,{children:n(t)}),hidden:!0},{title:r("Jami summa (xizmatlar)"),dataIndex:"total_service_summa",key:"total_service_summa",render:t=>e.jsx(e.Fragment,{children:n(t)}),hidden:!0},{title:r("Jami summa"),dataIndex:"total_summa",key:"total_summa",render:t=>e.jsx(e.Fragment,{children:n(t)})},{title:r("To'langan"),dataIndex:"total_pay",key:"total_pay",render:t=>e.jsx(e.Fragment,{children:n(t)})},{title:r("Qarzdorlik"),dataIndex:"debt_balance",key:"debt_balance",render:t=>e.jsx(e.Fragment,{children:n(t)})},{title:r("Holati"),dataIndex:"status",key:"status",filters:[{text:r("Qarzdorlik"),value:"Qarzdorlik"},{text:r("To'langan"),value:"To'langan"}],filteredValue:l.status||null,render:t=>{switch(t){case"Qarzdorlik":return e.jsx(c,{color:"red",children:r("Qarzdorlik")});case"To'langan":return e.jsx(c,{color:"green",children:r("To'langan")})}}},{title:r("Sana"),dataIndex:"date",key:"date",render:t=>e.jsx(e.Fragment,{children:I(t)})},{title:r("Izoh"),dataIndex:"desc",key:"desc",width:300,hidden:!0},{title:e.jsx(_,{size:15}),dataIndex:"id",key:"operation",align:"center",width:100,render:(t,a)=>e.jsxs(f,{align:"center",justify:"space-between",gap:"middle",children:[e.jsx(o,{type:"primary",onClick:()=>u(`/storages/storage-products/${t}`),icon:e.jsx(b,{})}),!i.get(a,"is_payment",!0)&&e.jsx(o,{onClick:()=>u(`/storages/storage-products/update/${t}`),icon:e.jsx(M,{})}),e.jsx(z,{trigger:e.jsx(o,{danger:!0,icon:e.jsx(N,{})}),onOk:()=>h(t)})]})}]};export{O as u};
