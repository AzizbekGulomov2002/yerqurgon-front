import{u as h,j as e,o as c,aY as F,l as R,r as l,aq as T,ar as O}from"./index-TTKrRBsV.js";import{G as v,C as G}from"./GlobalSearchInput-D1DeoeWx.js";import{C as L}from"./CreateButton-xdDnGHH7.js";import{C as k}from"./CustomDataTable-D2IlOEuA.js";import{P as q,B as D}from"./PageTitle-OKMYAOp7.js";import{h as I}from"./storage-products.requests-BGZqPdSR.js";import{u as M}from"./useQuery-DXHJDm7O.js";import{u as w}from"./useStorageProductColumns-DgNlyPgt.js";import{P as A}from"./PageResult-BMOmKs_e.js";import{R as g,C as a}from"./row-Bxwr5CQq.js";import"./index-CRizbU4B.js";import"./PlusOutlined-Ba-GwlE8.js";import"./CardTitle-WCnvc5ze.js";import"./Table-DaguqWZh.js";import"./LeftOutlined-30Vtg-fw.js";import"./CustomModalConfirm-DuPb8srr.js";import"./DeleteFilled-Lrowix85.js";import"./useClosable-CgTQR01w.js";import"./Skeleton-Bgqqq5sk.js";import"./fade-m1HoRkfl.js";import"./useSuppliers-Bt7n3lGa.js";import"./suppliers.requests-CZGt-cgQ.js";import"./index-Ce0i5KU3.js";import"./EyeFilled-oI1XtQGU.js";import"./EditFilled-96y0AoAx.js";import"./PageLoader-DmyE2ANN.js";import"./index-Chkbatr3.js";import"./index-CB8Qoy1w.js";import"./index-DVNdkQR1.js";const N=()=>{const{t:o}=h();return[{title:e.jsxs(c,{align:"center",gap:"small",children:[e.jsx(F,{size:20}),e.jsx("span",{children:o("Omborxona")})]})},{title:o("Omborga mahsulot")}]},Ce=()=>{const{t:o}=h(),d=R(),[s,m]=l.useState({current:1,pageSize:10,total:null}),[i,n]=l.useState({}),[x,u]=l.useState(""),{data:r,isLoading:p,isError:Q,error:j,isFetching:U,refetch:S,isRefetching:f,..._}=M({queryKey:["storage-products",{page:s.current,pageSize:s.pageSize,filters:i}],queryFn:()=>I(s.current,s.pageSize,T(i)),select:t=>t.data,keepPreviousData:!0});l.useEffect(()=>{r&&m(t=>({...t,current:r.current||1,pageSize:r.pageSize||10,total:r.total||""}))},[r]);const C=(t,E)=>{m({...t}),n(E)},b=()=>{n({}),u("")},P=t=>{n({...i,search:t})},B=t=>{u(t.target.value)},y=w(s,i,n,S),z=N();return e.jsxs(e.Fragment,{children:[e.jsx(O,{children:e.jsx("title",{children:o("Omborga mahsulot")})}),e.jsxs(g,{gutter:[20,20],children:[e.jsx(a,{span:24,children:e.jsx(c,{align:"center",justify:"space-between",children:e.jsx(q,{children:o("Omborga mahsulot")})})}),e.jsx(a,{span:24,children:e.jsx(D,{items:z})}),e.jsx(a,{span:24,children:e.jsx(A,{isLoading:p,error:j,children:e.jsxs(g,{gutter:[20,20],children:[e.jsx(a,{xs:24,sm:24,md:24,lg:6,xl:6,children:e.jsx(v,{value:x,enterButton:!0,onSearch:P,onChange:B})}),e.jsx(a,{xs:24,sm:24,md:24,lg:18,xl:18,children:e.jsxs(c,{align:"center",justify:"end",gap:"middle",children:[e.jsx(G,{onClick:b}),e.jsx(L,{onClick:()=>d("create")})]})}),e.jsx(a,{span:24,children:e.jsx(k,{columns:y,data:(r==null?void 0:r.results)||[],pagination:s,loading:p||f,onChange:C})})]})})})]})]})};export{Ce as default};
