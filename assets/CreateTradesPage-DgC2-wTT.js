import{u as c,j as t,o as d,Q as T,U as y,r as a,M as C,ar as P,as as l,a2 as S,X as v}from"./index-TTKrRBsV.js";import{B}from"./BackButton-BLVW6gZr.js";import{P as E,B as M}from"./PageTitle-OKMYAOp7.js";import{a as w}from"./trade.requests-D_bujT-q.js";import{T as F}from"./TradeForm--fpf83ok.js";import{R as k}from"./index-Jp31-sNK.js";import{C as q}from"./CheckUI-V7eYEVCD.js";import{R as D,C as o}from"./row-Bxwr5CQq.js";import"./LeftOutlined-30Vtg-fw.js";import"./CreateProductModal-C8QmnMdM.js";import"./CardTitle-WCnvc5ze.js";import"./services.requests-CprgZdT8.js";import"./useQuery-DXHJDm7O.js";import"./CustomDatePicker-dCRvPDUL.js";import"./CustomInput-CfXd1HaZ.js";import"./index-CRizbU4B.js";import"./CustomTextarea-DTb8tAvY.js";import"./index.esm-Dv3jW_V-.js";import"./products.requests-D64CJ7hA.js";import"./useProductTypes-Dl-iJJ8n.js";import"./product-categories.requests-CmDVyG0I.js";import"./product-formats.requests-TWbBd2Xh.js";import"./CustomInputNumber-BoiyYvjJ.js";import"./PlusOutlined-Ba-GwlE8.js";import"./DeleteFilled-Lrowix85.js";import"./useClosable-CgTQR01w.js";import"./Skeleton-Bgqqq5sk.js";import"./fade-m1HoRkfl.js";import"./index-CwYkfvr8.js";import"./CustomSwitch-ir5s6zur.js";import"./TitleAndIconText-Dlp7yQ8-.js";import"./useClients-CTLUVbG-.js";import"./clients.requests-DE0ZkmW1.js";import"./useProducts-TVEJRWTV.js";import"./trade-CwsITbu-.js";import"./useClientTypes-BFb73J4y.js";import"./clients-CQEBpeJ1.js";import"./index-Chkbatr3.js";import"./index-CB8Qoy1w.js";import"./Table-DaguqWZh.js";const I=()=>{const{t:e}=c();return[{title:t.jsxs(d,{align:"center",gap:"small",children:[t.jsx(T,{size:20}),t.jsx("span",{children:e("Savdo")})]})},{title:t.jsx(y,{to:"/trades/trades",children:e("Savdolar")})},{title:e("Qo'shish")}]},yt=()=>{const{t:e}=c(),[u,h]=a.useState({}),n=a.useRef(()=>{}),{isPending:f,mutateAsync:x}=C({mutationFn:w,onSuccess:async(r,p,s)=>{l(),S(e("Muvaffaqiyatli bajarildi !")),s!=null&&s.handleReset&&s.handleReset(),await new Promise(b=>{h(v.get(r,"data",{})),b()}),R()},onError:r=>{l(),console.log(r)},onMutate:r=>({handleReset:n.current})}),j=async(r,p)=>{n.current=p,await x(r)},g=I(),m=a.useRef(),i=a.useRef(),R=()=>{i.current&&setTimeout(()=>{i.current.handlePrint()},1e3)};return t.jsxs(t.Fragment,{children:[t.jsx(q,{data:u,componentRef:m}),t.jsx(k,{pageStyle:"@page { size: 80mm 100%; margin: 20px; padding: 0px; } body {  margin: 20px; padding: 0px; }",bodyClass:"print",trigger:()=>t.jsx("button",{style:{display:"none"},children:"Print"}),content:()=>m.current,ref:r=>i.current=r}),t.jsx(P,{children:t.jsx("title",{children:e("Savdo qo'shish")})}),t.jsxs(D,{gutter:[20,20],children:[t.jsx(o,{span:24,children:t.jsxs(d,{align:"center",justify:"space-between",children:[t.jsx(E,{children:e("Savdo qo'shish")}),t.jsx(B,{})]})}),t.jsx(o,{span:24,children:t.jsx(M,{items:g})}),t.jsx(o,{span:24,children:t.jsx(F,{handleSubmit:j,defaultValues:{},actionLoading:f})})]})]})};export{yt as default};
