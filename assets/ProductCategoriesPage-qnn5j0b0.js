import{u as g,j as e,o as m,aX as P,l as y,M as b,a2 as E,aQ as v,B as d,r as u,aq as T,ar as w}from"./index-TTKrRBsV.js";import{G as D,C as U}from"./GlobalSearchInput-D1DeoeWx.js";import{C as q}from"./CreateButton-xdDnGHH7.js";import{C as G}from"./CustomDataTable-D2IlOEuA.js";import{P as L,B as N}from"./PageTitle-OKMYAOp7.js";import{U as Q}from"./UploadButton-Bl29dtMb.js";import{a as $,b as O,c as _}from"./product-categories.requests-CmDVyG0I.js";import{u as A}from"./useQuery-DXHJDm7O.js";import{C as K}from"./CustomModalConfirm-DuPb8srr.js";import{R as H}from"./EyeFilled-oI1XtQGU.js";import{R as X}from"./EditFilled-96y0AoAx.js";import{R as J}from"./DeleteFilled-Lrowix85.js";import{R as C,C as i}from"./row-Bxwr5CQq.js";import"./index-CRizbU4B.js";import"./PlusOutlined-Ba-GwlE8.js";import"./CardTitle-WCnvc5ze.js";import"./Table-DaguqWZh.js";import"./LeftOutlined-30Vtg-fw.js";import"./index.esm-Dv3jW_V-.js";import"./UploadOutlined-BKXEKiN1.js";import"./fade-m1HoRkfl.js";import"./progress-0PFtpCVW.js";import"./useClosable-CgTQR01w.js";import"./Skeleton-Bgqqq5sk.js";const V="/assets/Category_example-GKMypfhd.xlsx",W=()=>{const{t:r}=g();return[{title:e.jsxs(m,{align:"center",gap:"small",children:[e.jsx(P,{size:20}),e.jsx("span",{children:r("Mahsulot")})]})},{title:r("Mahsulot kategoriyalari")}]},Y=(r,x,s,l)=>{const{t:n}=g(),a=y(),p=b({mutationFn:$,onSuccess:()=>{E(),l()},onError:t=>{console.log(t)}}),c=t=>{p.mutate(t)};return[{title:"â„–",dataIndex:"id",key:"id",width:"50px",render:(t,h,j)=>e.jsx(e.Fragment,{children:(r.current-1)*r.pageSize+j+1})},{title:n("Nomi"),dataIndex:"name",key:"name"},{title:e.jsx(v,{size:15}),dataIndex:"id",key:"operation",align:"center",width:90,render:t=>e.jsxs(m,{align:"center",justify:"space-between",gap:"small",children:[e.jsx(d,{type:"primary",onClick:()=>a(`${t}`),icon:e.jsx(H,{})}),e.jsx(d,{onClick:()=>a(`update/${t}`),icon:e.jsx(X,{})}),e.jsx(K,{trigger:e.jsx(d,{danger:!0,icon:e.jsx(J,{})}),onOk:()=>c(t)})]})}]},Fe=()=>{const{t:r}=g(),x=y(),[s,l]=u.useState({current:1,pageSize:10,total:null}),[n,a]=u.useState({}),[p,c]=u.useState(""),{data:t,isLoading:h,isError:j,error:Z,isFetching:ee,refetch:f,isRefetching:S,...te}=A({queryKey:["product-categories",{page:s.current,pageSize:s.pageSize,filters:n}],queryFn:()=>O(s.current,s.pageSize,T(n)),select:o=>o.data,keepPreviousData:!0});u.useEffect(()=>{t&&l({current:t.current||1,pageSize:t.pageSize||10,total:t.total||""})},[t]);const M=(o,I)=>{l({...o}),a(I)},R=()=>{a({}),c("")},k=o=>{a({...n,search:o})},B=o=>{c(o.target.value)},F=Y(s,n,a,f),z=W();return e.jsxs(e.Fragment,{children:[e.jsx(w,{children:e.jsx("title",{children:r("Mahsulot kategoriyalari")})}),e.jsxs(C,{gutter:[20,20],children:[e.jsx(i,{span:24,children:e.jsx(m,{align:"center",justify:"space-between",children:e.jsx(L,{children:r("Mahsulot kategoriyalari")})})}),e.jsx(i,{span:24,children:e.jsx(N,{items:z})}),e.jsx(i,{span:24,children:e.jsxs(C,{gutter:[20,20],children:[e.jsx(i,{xs:24,sm:24,md:24,lg:6,xl:6,children:e.jsx(D,{value:p,placeholder:r("Qidiruv"),enterButton:!0,onSearch:k,onChange:B})}),e.jsx(i,{xs:24,sm:24,md:24,lg:18,xl:18,children:e.jsxs(m,{align:"center",justify:"end",gap:"middle",children:[e.jsx(Q,{uploadRequest:_,refetch:f,ExampleFileUrl:V}),e.jsx(U,{onClick:R}),e.jsx(q,{onClick:()=>x("create")})]})}),e.jsx(i,{span:24,children:e.jsx(G,{columns:F,data:(t==null?void 0:t.results)||[],pagination:s,loading:h||S,onChange:M})})]})})]})]})};export{Fe as default};
