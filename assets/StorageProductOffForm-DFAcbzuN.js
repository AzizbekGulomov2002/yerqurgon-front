import{X as a,u as C,r as k,j as r,O as l,C as F,o as q,B as m}from"./index-TTKrRBsV.js";import{C as O}from"./CustomInputNumber-BoiyYvjJ.js";import{u as E}from"./useProducts-TVEJRWTV.js";import{c as M,a as v,e as z,u as I,F as s,C as p,o as P}from"./index.esm-Dv3jW_V-.js";import{D as h}from"./index-CwYkfvr8.js";import{R,C as x}from"./row-Bxwr5CQq.js";function T(t){return{product:Number(a.get(t,"product","")),count:a.get(t,"count","")}}function G(t){return{product:a.get(t,"product.id",""),count:a.get(t,"count","")}}const H=({defaultValues:t,handleSubmit:f,actionLoading:n=!1,readOnly:D=!1})=>{const{t:e}=C(),j=M().shape({product:v().required(e("Maydonni kiritishingiz shart !")),count:z().min(0,e("Miqdor noldan katta yoki teng bo'lishi kerak !")).required(e("Maydonni kiritishingiz shart !"))}),g=P(j),{productsOptions:b}=E(),{control:i,formState:{errors:c},reset:u,watch:N,...y}=I({defaultValues:t,resolver:g});k.useEffect(()=>{u(t)},[t]);const d=()=>u({}),S=y.handleSubmit(o=>{f(T(o),d)});return r.jsxs(s,{layout:"vertical",className:"create-form",name:"create-form",size:"large",onFinish:S,children:[r.jsx(h,{}),r.jsxs(R,{gutter:[20,20],children:[r.jsx(x,{xs:24,md:6,children:r.jsx(s.Item,{label:e("Mahsulot"),...l(c,"product"),required:!0,children:r.jsx(p,{name:"product",control:i,render:({field:o})=>r.jsx(F,{options:b,...o})})})}),r.jsx(x,{xs:24,md:6,children:r.jsx(s.Item,{label:e("Miqdori"),...l(c,"count"),required:!0,children:r.jsx(p,{name:"count",control:i,render:({field:o})=>r.jsx(O,{...o})})})})]}),r.jsx(h,{}),r.jsx(s.Item,{children:r.jsxs(q,{align:"center",justify:"end",gap:"middle",children:[r.jsx(m,{htmlType:"button",onClick:d,children:e("Tozalash")}),r.jsx(m,{type:"primary",htmlType:"submit",loading:n,disabled:n,children:e("Yuborish")})]})})]})};export{H as S,G as p};
