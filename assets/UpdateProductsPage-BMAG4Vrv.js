import{X as e,u as c,at as d,j as t,o as l,aX as j,U as f,cz as y,M as P,ar as M,as as n,a2 as E}from"./index-TTKrRBsV.js";import{B}from"./BackButton-BLVW6gZr.js";import{P as _,E as b}from"./PageLoader-DmyE2ANN.js";import{P as F,B as R}from"./PageTitle-OKMYAOp7.js";import{e as S,f as T}from"./products.requests-D64CJ7hA.js";import{u as q}from"./useQuery-DXHJDm7O.js";import{P as C}from"./ProductForm-C56KzKr-.js";import{R as U,C as i}from"./row-Bxwr5CQq.js";import"./LeftOutlined-30Vtg-fw.js";import"./index-Chkbatr3.js";import"./Skeleton-Bgqqq5sk.js";import"./index-CB8Qoy1w.js";import"./PlusOutlined-Ba-GwlE8.js";import"./index-DVNdkQR1.js";import"./CustomInputNumber-BoiyYvjJ.js";import"./CustomInput-CfXd1HaZ.js";import"./index-CRizbU4B.js";import"./useProductTypes-Dl-iJJ8n.js";import"./product-categories.requests-CmDVyG0I.js";import"./product-formats.requests-TWbBd2Xh.js";import"./index.esm-Dv3jW_V-.js";import"./index-CwYkfvr8.js";import"./UploadOutlined-BKXEKiN1.js";import"./fade-m1HoRkfl.js";import"./progress-0PFtpCVW.js";function L(r){return{name:e.get(r,"name",""),category_id:e.get(r,"category.id",""),format_id:e.get(r,"format.id",""),storage_id:e.get(r,"storage.id",""),product_type:e.get(r,"product_type",""),price:e.get(r,"price",""),bar_code:e.get(r,"bar_code","")}}const v=()=>{const{t:r}=c(),{id:s}=d();return[{title:t.jsxs(l,{align:"center",gap:"small",children:[t.jsx(j,{size:20}),t.jsx("span",{children:r("Mahsulot")})]})},{title:t.jsx(f,{to:"/products/products",children:r("Mahsulotlar")})},{title:r("Tahrirlash")},{title:s}]},nt=()=>{const{t:r}=c(),{id:s}=d(),p=y(),o=q({queryKey:["product-one",s],queryFn:()=>T(s),select:a=>L(a.data)}),u=()=>{n(),E(r("Muvaffaqiyatli bajarildi !")),p.invalidateQueries({queryKey:["product-one",s]})},{isPending:m,mutateAsync:h}=P({mutationFn:S,onSuccess:u,onError:a=>{n(),console.log(a)}}),g=async(a,Q)=>{h({id:s,data:a})},x=v();return t.jsxs(t.Fragment,{children:[t.jsx(M,{children:t.jsx("title",{children:r("Mahsulotni tahrirlash")})}),t.jsxs(U,{gutter:[20,20],children:[t.jsx(i,{span:24,children:t.jsxs(l,{align:"center",justify:"space-between",children:[t.jsx(F,{children:r("Mahsulotni tahrirlash")}),t.jsx(B,{})]})}),t.jsx(i,{span:24,children:t.jsx(R,{items:x})}),t.jsx(i,{span:24,children:o.isLoading?t.jsx(_,{}):t.jsx(t.Fragment,{children:o.error?t.jsx(b,{error:o.error}):t.jsx(C,{handleSubmit:g,defaultValues:e.get(o,"data",[]),actionLoading:m})})})]})]})};export{nt as default};
