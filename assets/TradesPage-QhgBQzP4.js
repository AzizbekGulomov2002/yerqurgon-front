import{u as h,j as e,o as c,Q as E,l as F,r as l,aq as P,ar as R}from"./index-TTKrRBsV.js";import{G as L,C as Q}from"./GlobalSearchInput-D1DeoeWx.js";import{C as k}from"./CreateButton-xdDnGHH7.js";import{C as q}from"./CustomDataTable-D2IlOEuA.js";import{P as D,B as G}from"./PageTitle-OKMYAOp7.js";import{h as I}from"./trade.requests-D_bujT-q.js";import{u as M}from"./useQuery-DXHJDm7O.js";import{u as w}from"./useTradeColumns-D2oMPL4z.js";import{P as A}from"./PageResult-BMOmKs_e.js";import{R as d,C as a}from"./row-Bxwr5CQq.js";import"./index-CRizbU4B.js";import"./PlusOutlined-Ba-GwlE8.js";import"./CardTitle-WCnvc5ze.js";import"./Table-DaguqWZh.js";import"./LeftOutlined-30Vtg-fw.js";import"./CustomModalConfirm-DuPb8srr.js";import"./DeleteFilled-Lrowix85.js";import"./useClosable-CgTQR01w.js";import"./Skeleton-Bgqqq5sk.js";import"./fade-m1HoRkfl.js";import"./useClients-CTLUVbG-.js";import"./clients.requests-DE0ZkmW1.js";import"./index-Jp31-sNK.js";import"./CheckUI-V7eYEVCD.js";import"./index-CwYkfvr8.js";import"./index-Ce0i5KU3.js";import"./EyeFilled-oI1XtQGU.js";import"./PrinterOutlined-DYf3p5xo.js";import"./EditFilled-96y0AoAx.js";import"./PageLoader-DmyE2ANN.js";import"./index-Chkbatr3.js";import"./index-CB8Qoy1w.js";import"./index-DVNdkQR1.js";const N=()=>{const{t:i}=h();return[{title:e.jsxs(c,{align:"center",gap:"small",children:[e.jsx(E,{size:20}),e.jsx("span",{children:i("Savdo")})]})},{title:i("Savdolar")}]},be=()=>{const{t:i}=h(),g=F(),[s,m]=l.useState({current:1,pageSize:10,total:null}),[o,n]=l.useState({}),[x,p]=l.useState(""),{data:r,isLoading:u,isError:O,error:j,isFetching:U,refetch:S,isRefetching:f,..._}=M({queryKey:["trades",{page:s.current,pageSize:s.pageSize,filters:o}],queryFn:()=>I(s.current,s.pageSize,P(o)),select:t=>t.data,keepPreviousData:!0});l.useEffect(()=>{r&&m(t=>({...t,current:r.current||1,pageSize:r.pageSize||10,total:r.total||""}))},[r]);const C=(t,z)=>{m({...t}),n(z)},T=()=>{n({}),p("")},v=t=>{n({...o,search:t})},B=t=>{p(t.target.value)},b=w(s,o,n,S),y=N();return e.jsxs(e.Fragment,{children:[e.jsx(R,{children:e.jsx("title",{children:i("Savdolar")})}),e.jsxs(d,{gutter:[20,20],children:[e.jsx(a,{span:24,children:e.jsx(c,{align:"center",justify:"space-between",children:e.jsx(D,{children:i("Savdolar")})})}),e.jsx(a,{span:24,children:e.jsx(G,{items:y})}),e.jsx(a,{span:24,children:e.jsx(A,{isLoading:u,error:j,children:e.jsxs(d,{gutter:[20,20],children:[e.jsx(a,{xs:24,sm:24,md:24,lg:6,xl:6,children:e.jsx(L,{value:x,enterButton:!0,onSearch:v,onChange:B})}),e.jsx(a,{xs:24,sm:24,md:24,lg:18,xl:18,children:e.jsxs(c,{align:"center",justify:"end",gap:"middle",children:[e.jsx(Q,{onClick:T}),e.jsx(k,{onClick:()=>g("/trades/trade-create")})]})}),e.jsx(a,{span:24,children:e.jsx(q,{columns:b,data:(r==null?void 0:r.results)||[],pagination:s,loading:u||f,onChange:C})})]})})})]})]})};export{be as default};
