import{p as j,V as h,u as v,j as e,o as u,X as r,aH as F,aI as f,z as C,aB as l,aJ as _,aK as I,aV as T,aC as k,aa as z}from"./index-TTKrRBsV.js";import{R as S,C as m}from"./row-Bxwr5CQq.js";import{D as p}from"./index-CwYkfvr8.js";import{F as y}from"./Table-DaguqWZh.js";const{Title:g,Text:V}=h,U=j.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
`,N=j.div`
  display: flex;
  gap: 5px;
`,b=j(h.Text)`
  font-weight: bold;
`,d=({title:n,value:s,icon:a,...t})=>e.jsxs(U,{children:[e.jsxs(N,{children:[a&&z.cloneElement(a,{size:20}),e.jsxs(h.Text,{strong:!0,...t,children:[n,":"]})]}),e.jsx(b,{children:s})]}),w=({data:n,componentRef:s})=>{const{t:a}=v();return e.jsx("div",{style:{display:"none"},children:e.jsx("div",{ref:t=>s.current=t,children:e.jsxs(S,{gutter:[20,20],children:[e.jsx(m,{span:24,children:e.jsx(u,{vertical:!0,align:"center",justify:"center",gap:"15px",children:e.jsxs(g,{level:5,align:"center",children:["â„–: ",r.get(n,"cheque_id",0)]})})}),e.jsx(m,{span:24,children:e.jsxs(u,{vertical:!0,gap:"15px",children:[e.jsx(d,{title:a("Mijoz").toUpperCase(),value:r.get(n,"client.name",""),icon:e.jsx(F,{})}),e.jsx(d,{title:a("Sana").toUpperCase(),value:f(r.get(n,"date","")),icon:e.jsx(C,{})}),e.jsx(p,{style:{margin:"0"}})]})}),e.jsx(m,{span:24,children:e.jsxs(u,{vertical:!0,gap:"15px",children:[e.jsx(g,{level:5,align:"center",children:a("Mahsulotlar")}),e.jsx(E,{data:r.get(n,"products",[])}),e.jsx(d,{title:a("Summa (mahsulotlar)").toUpperCase(),value:l(r.get(n,"total_product_summa","")),icon:e.jsx(_,{})}),e.jsx(p,{style:{margin:"0"}})]})}),!r.isEmpty(r.get(n,"services",[]))&&e.jsx(m,{span:24,children:e.jsxs(u,{vertical:!0,gap:"15px",children:[e.jsx(g,{level:5,align:"center",children:a("Xizmatlar")}),e.jsx(M,{data:r.get(n,"services",[])}),e.jsx(d,{title:a("Summa (xizmatlar)").toUpperCase(),value:l(r.get(n,"total_service_summa","")),icon:e.jsx(I,{})}),e.jsx(p,{style:{margin:"0"}})]})}),e.jsx(m,{span:24,children:e.jsxs(u,{vertical:!0,gap:"15px",children:[r.get(n,"discount_summa",0)!=0&&e.jsx(e.Fragment,{children:e.jsx(d,{title:a("Chegirma").toUpperCase(),value:l(r.get(n,"discount_summa","")),icon:e.jsx(T,{})})}),e.jsx(d,{title:a("Umumiy summa").toUpperCase(),value:l(r.get(n,"total_summa","")),icon:e.jsx(k,{})})]})})]})})})};function E({data:n}){const{t:s}=v(),a=[{title:s("#"),dataIndex:"index",key:"index",render:(t,i,c)=>e.jsx(e.Fragment,{children:c+1})},{title:s("Nomi"),dataIndex:"product",key:"product",render:t=>e.jsx(e.Fragment,{children:r.get(t,"name","")})},{title:s("Narxi"),dataIndex:"price",key:"price",render:t=>e.jsx(e.Fragment,{children:l(t)})},{title:s("Miqdor"),key:"size",render:(t,i)=>{const c=r.get(i,"width",""),x=r.get(i,"height",""),o=r.get(i,"total_count","");return c&&x?e.jsxs(e.Fragment,{children:[c," x ",x," x ",o]}):e.jsx(e.Fragment,{children:l(o)})}},{title:s("O'lcham"),dataIndex:"total_count",key:"total_count",render:(t,i)=>{if(r.get(i,"size_type")==="Formatli"){const c=r.get(i,"height"),x=r.get(i,"width");let o=c&&x?2*(Number.parseFloat(c)+Number.parseFloat(x)):0;return o%1!==0&&(o=Number.parseFloat(o.toFixed(2))),e.jsxs(e.Fragment,{children:[l(t,i.product.format)," (",s("P"),"= ",o,")"]})}else return e.jsx(e.Fragment,{children:l(t,i.product.format)})}},{title:s("Summa"),dataIndex:"price",key:"price",render:(t,i)=>e.jsx(e.Fragment,{children:l(t*i.total_count)})}];return e.jsx(y,{size:"small",dataSource:n,columns:a,pagination:!1})}function M({data:n}){const{t:s}=v(),a=[{title:s("#"),dataIndex:"index",key:"index",render:(t,i,c)=>e.jsx(e.Fragment,{children:c+1})},{title:s("Nomi"),dataIndex:"service",key:"service",render:t=>e.jsx(e.Fragment,{children:r.get(t,"name","")})},{title:s("Narxi"),dataIndex:"price",key:"price",render:t=>e.jsx(e.Fragment,{children:l(t)})},{title:s("Miqdori"),dataIndex:"count",key:"count",render:t=>e.jsx(e.Fragment,{children:l(t,s("ta"))})}];return e.jsx(y,{size:"small",pagination:!1,dataSource:n,columns:a})}export{w as C};
