import{u as R,r as C,au as k,j as e,O as n,C as v,B as c,o as w}from"./index-TTKrRBsV.js";import{C as D}from"./CustomDatePicker-dCRvPDUL.js";import{C as g}from"./CustomInput-CfXd1HaZ.js";import{C as M}from"./CustomTextarea-DTb8tAvY.js";import{u as U}from"./useClientTypes-BFb73J4y.js";import{p as E}from"./clients-CQEBpeJ1.js";import{c as L,a as x,u as _,F as a,C as o,o as B}from"./index.esm-Dv3jW_V-.js";import{D as y}from"./index-CwYkfvr8.js";import{R as O,C as l}from"./row-Bxwr5CQq.js";import{U as $,R as N}from"./UploadOutlined-BKXEKiN1.js";const ee=({defaultValues:m,handleSubmit:b,actionLoading:h=!1,readOnly:P=!1})=>{const{t:r}=R(),[u,j]=C.useState([]),q=s=>{const d=s.fileList.slice(-1);j(d)},I=L().shape({client_type:x().required(r("Maydonni kiritishingiz shart !")),name:x().required(r("Maydonni kiritishingiz shart !")),added:x().required(r("Maydonni kiritishingiz shart !"))}),T=B(I),z=U(),{control:t,formState:{errors:i},reset:p,watch:Q,...F}=_({defaultValues:{added:k(),...m},resolver:T});C.useEffect(()=>{p(m)},[m]);const f=()=>{p({}),j([])},S=F.handleSubmit(async s=>{const d=await E({...s,image:u[0]});b(d,f)});return e.jsxs(a,{layout:"vertical",className:"create-form",name:"create-form",size:"large",onFinish:S,children:[e.jsx(y,{}),e.jsxs(O,{gutter:[20,20],children:[e.jsx(l,{xs:24,md:6,children:e.jsx(a.Item,{label:r("Mijoz nomi"),...n(i,"name"),required:!0,children:e.jsx(o,{name:"name",control:t,render:({field:s})=>e.jsx(g,{...s})})})}),e.jsx(l,{xs:24,md:6,children:e.jsx(a.Item,{label:r("Telefon raqami"),...n(i,"phone"),required:!1,children:e.jsx(o,{name:"phone",control:t,render:({field:s})=>e.jsx(g,{...s})})})}),e.jsx(l,{xs:24,md:6,children:e.jsx(a.Item,{label:r("Mijoz turi"),...n(i,"client_type"),required:!0,children:e.jsx(o,{name:"client_type",control:t,render:({field:s})=>e.jsx(v,{showSearch:!1,options:z,...s})})})}),e.jsx(l,{xs:24,md:6,children:e.jsx(a.Item,{label:r("Qo'shilgan vaqti"),...n(i,"added"),required:!0,children:e.jsx(o,{name:"added",control:t,render:({field:s})=>e.jsx(D,{...s})})})}),e.jsx(l,{xs:24,md:6,children:e.jsx(a.Item,{label:r("Izoh"),...n(i,"desc"),children:e.jsx(o,{name:"desc",control:t,render:({field:s})=>e.jsx(M,{...s})})})}),e.jsx(l,{xs:24,md:6,children:e.jsx(a.Item,{label:r("Rasm"),...n(i,"image"),required:!1,children:e.jsx(o,{name:"image",defaultValue:[],control:t,render:({field:s})=>e.jsx($,{listType:"picture",maxCount:1,accept:"image/*",fileList:u,onChange:q,beforeUpload:d=>(s.onChange([d]),!1),children:e.jsx(c,{icon:e.jsx(N,{}),children:r("Tanlang")})})})})})]}),e.jsx(y,{}),e.jsx(a.Item,{children:e.jsxs(w,{align:"center",justify:"end",gap:"middle",children:[e.jsx(c,{htmlType:"button",onClick:f,children:r("Tozalash")}),e.jsx(c,{type:"primary",htmlType:"submit",loading:h,disabled:h,children:r("Yuborish")})]})})]})};export{ee as C};
