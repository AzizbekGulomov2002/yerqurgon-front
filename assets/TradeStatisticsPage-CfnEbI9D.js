import{u as j,j as t,o as h,d as I,aw as T,V as m,X as c,Q as S,aC as b,v as D,r as x,au as f,dV as E,aB as p,dW as C,ar as M}from"./index-TTKrRBsV.js";import{B as P}from"./BackButton-BLVW6gZr.js";import{C as w}from"./CustomTabs-DeR7qKEd.js";import{P as q,B as $}from"./PageTitle-OKMYAOp7.js";import{C as u,h as K,a as L,b as R,c as O,d as Q}from"./CustomColumnChart-IbFykfOL.js";import{P as Y,E as F}from"./PageLoader-DmyE2ANN.js";import{u as k}from"./useQuery-DXHJDm7O.js";import{R as y,C as i}from"./row-Bxwr5CQq.js";import{C as V,a as A}from"./CustomPieChart-BOEEwQKO.js";import{C as G}from"./CustomDatePicker-dCRvPDUL.js";import{C as B}from"./CustomDataTable-D2IlOEuA.js";import{C as g}from"./index-Chkbatr3.js";import{T as _}from"./index-CB8Qoy1w.js";import"./LeftOutlined-30Vtg-fw.js";import"./Skeleton-Bgqqq5sk.js";import"./index-DVNdkQR1.js";import"./CardTitle-WCnvc5ze.js";import"./Table-DaguqWZh.js";import"./index-CRizbU4B.js";import"./PlusOutlined-Ba-GwlE8.js";const U=()=>{const{t:e}=j();return[{title:t.jsxs(h,{align:"center",gap:"small",children:[t.jsx(I,{size:20}),t.jsx("span",{children:e("Statistika")})]})},{title:e("Savdo statistikasi")}]},H=()=>{const{t:e}=j(),{company:{currency_type:r}}=T(),{data:n,isLoading:o,error:l}=k({queryKey:["trade-total"],queryFn:K,select:a=>a.data});return t.jsxs(y,{gutter:[20,20],children:[t.jsx(i,{xs:24,children:t.jsx(h,{align:"center",justify:"space-between",children:t.jsx(m.Title,{level:5,children:e("Umumiy statistika")})})}),t.jsx(i,{xs:24,children:o?t.jsx(Y,{}):t.jsx(t.Fragment,{children:l?t.jsx(F,{error:l}):t.jsx(t.Fragment,{children:t.jsx(h,{gap:"20px",vertical:!0,children:t.jsxs(y,{gutter:[20,20],children:[t.jsx(i,{xs:24,md:8,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Savdolar soni")}),value:c.get(n,"total_trades",0),precision:2,prefix:t.jsx(S,{}),suffix:e("ta")})}),t.jsx(i,{xs:24,md:8,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Savdolar summasi")}),value:c.get(n,"total_trade_summa",0),precision:2,prefix:t.jsx(b,{}),suffix:r})}),t.jsx(i,{xs:24,md:8,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("To'lovlar")}),value:c.get(n,"total_payments",0),precision:2,prefix:t.jsx(D,{}),suffix:r})})]})})})})})]})},N=()=>{const{t:e}=j(),{company:{currency_type:r}}=T(),[n,o]=x.useState(f().format("YYYY-MM-DD")),{data:l,isLoading:a,error:s}=k({queryKey:["trade-daily",n],queryFn:()=>L(n),select:d=>d.data,enabled:!!n});return t.jsxs(y,{gutter:[20,20],children:[t.jsx(i,{xs:24,children:t.jsxs(h,{align:"center",justify:"space-between",children:[t.jsx(m.Title,{level:5,children:e("Kunlik statistika")}),t.jsx(G,{style:{width:"200px"},picker:"day",value:f(n),format:"YYYY-MM-DD",onChange:(d,v)=>{o(v)}})]})}),t.jsx(i,{xs:24,children:a?t.jsx(Y,{}):t.jsx(t.Fragment,{children:s?t.jsx(F,{error:s}):t.jsx(t.Fragment,{children:t.jsx(h,{gap:"20px",vertical:!0,children:t.jsxs(y,{gutter:[20,20],children:[t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Sana")}),value:n,formatter:d=>`${d}`,prefix:t.jsx(E,{})})}),t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Savdolar soni")}),value:c.get(l,"total_trades",0),precision:2,prefix:t.jsx(S,{}),suffix:e("ta")})}),t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Savdolar summasi")}),value:c.get(l,"total_trade_summa",0),precision:2,prefix:t.jsx(b,{}),suffix:r})}),t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("To'lovlar")}),value:c.get(l,"total_payments",0),precision:2,prefix:t.jsx(D,{}),suffix:r})}),t.jsx(i,{xs:24,md:24,children:t.jsx(z,{data:l})}),t.jsx(i,{xs:24,md:24,children:t.jsx(W,{data:l})}),t.jsx(i,{xs:24,md:24,children:t.jsx(X,{data:l})})]})})})})})]})},z=({data:e})=>{const{t:r}=j(),[n,o]=x.useState([]);x.useEffect(()=>{const a=c.get(e,"hourly_stats",[]).map((s,d)=>({type:s.hour_range,value:s.total_trades}));o(a)},[e]);const l={data:n};return t.jsx(g,{title:r("Savdolar soni (soatlar bo'yicha)"),children:t.jsx(V,{config:l})})},W=({data:e})=>{const{t:r}=j(),[n,o]=x.useState([]);x.useEffect(()=>{const a=c.get(e,"hourly_stats",[]).map((s,d)=>({type:s.hour_range,value:s.total_trade_summa}));o(a)},[e]);const l={data:n};return t.jsx(g,{title:r("Savdolar summasi (soatlar bo'yicha)"),children:t.jsx(A,{config:l})})},X=({data:e})=>{const{t:r}=j(),n=[{title:r("Vaqt"),dataIndex:"hour_range"},{title:r("Savdolar soni"),dataIndex:"total_trades",render:a=>t.jsx(t.Fragment,{children:p(a,r("ta"))}),sorter:(a,s)=>a.total_trades-s.total_trades},{title:r("Savdolar summasi"),dataIndex:"total_trade_summa",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_trade_summa-s.total_trade_summa},{title:r("To'lovlar"),dataIndex:"total_payments",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_payments-s.total_payments}],[o,l]=x.useState([]);return x.useEffect(()=>{const a=c.get(e,"hourly_stats",[]).map((s,d)=>({...s}));l(a)},[e]),t.jsx(B,{title:r("Savdolar (soatlar bo'yicha)"),dataSource:o,columns:n,pagination:!1})},J=()=>{const{t:e}=j(),{company:{currency_type:r}}=T(),[n,o]=x.useState(f().format("YYYY-MM")),{data:l,isLoading:a,error:s}=k({queryKey:["trade-monthly",n],queryFn:()=>R(n),select:d=>d.data,enabled:!!n});return t.jsxs(y,{gutter:[20,20],children:[t.jsx(i,{xs:24,children:t.jsxs(h,{align:"center",justify:"space-between",children:[t.jsx(m.Title,{level:5,children:e("Oylik statistika")}),t.jsx(G,{style:{width:"200px"},picker:"month",value:f(n),format:"YYYY-MM",onChange:(d,v)=>{o(v)}})]})}),t.jsx(i,{xs:24,children:a?t.jsx(Y,{}):t.jsx(t.Fragment,{children:s?t.jsx(F,{error:s}):t.jsx(t.Fragment,{children:t.jsx(h,{gap:"20px",vertical:!0,children:t.jsxs(y,{gutter:[20,20],children:[t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Oy")}),value:C(n),formatter:d=>`${d}`,prefix:t.jsx(E,{})})}),t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Savdolar soni")}),value:c.get(l,"total_trades",0),precision:2,prefix:t.jsx(S,{}),suffix:e("ta")})}),t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Savdolar summasi")}),value:c.get(l,"total_trade_summa",0),precision:2,prefix:t.jsx(b,{}),suffix:r})}),t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("To'lovlar")}),value:c.get(l,"total_payments",0),precision:2,prefix:t.jsx(D,{}),suffix:r})}),t.jsx(i,{xs:24,md:24,children:t.jsx(Z,{data:l})}),t.jsx(i,{xs:24,md:24,children:t.jsx(tt,{data:l})}),t.jsx(i,{xs:24,md:24,children:t.jsx(et,{data:l})})]})})})})})]})},Z=({data:e})=>{const{t:r}=j(),[n,o]=x.useState([]);x.useEffect(()=>{const a=c.get(e,"daily_datas",[]).map((s,d)=>({type:s.date,value:s.total_trades}));o(a)},[e]);const l={data:n};return t.jsx(g,{title:r("Savdolar soni (kunlar bo'yicha)"),children:t.jsx(A,{config:l})})},tt=({data:e})=>{const{t:r}=j(),[n,o]=x.useState([]);x.useEffect(()=>{const a=c.get(e,"daily_datas",[]).map((s,d)=>({type:s.date,value:s.total_trade_summa}));o(a)},[e]);const l={data:n};return t.jsx(g,{title:r("Savdolar summasi (kunlar bo'yicha)"),children:t.jsx(A,{config:l})})},et=({data:e})=>{const{t:r}=j(),n=[{title:r("Sana"),dataIndex:"date"},{title:r("Savdolar soni"),dataIndex:"total_trades",render:a=>t.jsx(t.Fragment,{children:p(a,r("ta"))}),sorter:(a,s)=>a.total_trades-s.total_trades},{title:r("Savdolar summasi"),dataIndex:"total_trade_summa",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_trade_summa-s.total_trade_summa},{title:r("To'lovlar"),dataIndex:"total_payments",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_payments-s.total_payments}],[o,l]=x.useState([]);return x.useEffect(()=>{const a=c.get(e,"daily_datas",[]).map((s,d)=>({...s}));l(a)},[e]),t.jsx(B,{title:r("Savdolar (kunlar bo'yicha)"),dataSource:o,columns:n,pagination:!1})},at=()=>{const{t:e}=j(),{company:{currency_type:r}}=T(),[n,o]=x.useState(f().format("YYYY")),{data:l,isLoading:a,error:s}=k({queryKey:["trade-monthly",n],queryFn:()=>Q(n),select:d=>d.data,enabled:!!n});return t.jsxs(y,{gutter:[20,20],children:[t.jsx(i,{xs:24,children:t.jsxs(h,{align:"center",justify:"space-between",children:[t.jsx(m.Title,{level:5,children:e("Yillik statistika")}),t.jsx(G,{style:{width:"200px"},picker:"year",value:f(n),format:"YYYY",onChange:(d,v)=>{o(v)}})]})}),t.jsx(i,{xs:24,children:a?t.jsx(Y,{}):t.jsx(t.Fragment,{children:s?t.jsx(F,{error:s}):t.jsx(t.Fragment,{children:t.jsx(h,{gap:"20px",vertical:!0,children:t.jsxs(y,{gutter:[20,20],children:[t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Yil")}),value:n,formatter:d=>`${d}`,prefix:t.jsx(E,{})})}),t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Savdolar soni")}),value:c.get(l,"total_trades",0),precision:2,prefix:t.jsx(S,{}),suffix:e("ta")})}),t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("Savdolar summasi")}),value:c.get(l,"total_trade_summa",0),precision:2,prefix:t.jsx(b,{}),suffix:r})}),t.jsx(i,{xs:24,md:6,children:t.jsx(u,{title:t.jsx(m.Title,{level:4,children:e("To'lovlar")}),value:c.get(l,"total_payments",0),precision:2,prefix:t.jsx(D,{}),suffix:r})}),t.jsx(i,{xs:24,md:24,children:t.jsx(st,{data:l})}),t.jsx(i,{xs:24,md:24,children:t.jsx(rt,{data:l})}),t.jsx(i,{xs:24,md:24,children:t.jsx(lt,{data:l})})]})})})})})]})},st=({data:e})=>{const{t:r}=j(),[n,o]=x.useState([]);x.useEffect(()=>{const a=c.get(e,"monthly_data",[]).map((s,d)=>({type:C(s.month),value:s.total_trades}));o(a)},[e]);const l={data:n};return t.jsx(g,{title:r("Savdolar soni (oylar bo'yicha)"),children:t.jsx(O,{config:l})})},rt=({data:e})=>{const{t:r}=j(),[n,o]=x.useState([]);x.useEffect(()=>{const a=c.get(e,"monthly_data",[]).map((s,d)=>({type:C(s.month),value:s.total_trade_summa}));o(a)},[e]);const l={data:n};return t.jsx(g,{title:r("Savdolar summasi (oylar bo'yicha)"),children:t.jsx(A,{config:l})})},lt=({data:e})=>{const{t:r}=j(),n=[{title:r("Oy"),dataIndex:"month",render:a=>t.jsx(t.Fragment,{children:C(a)})},{title:r("Savdolar soni"),dataIndex:"total_trades",render:a=>t.jsx(t.Fragment,{children:p(a,r("ta"))}),sorter:(a,s)=>a.total_trades-s.total_trades},{title:r("Savdolar summasi"),dataIndex:"total_trade_summa",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_trade_summa-s.total_trade_summa},{title:r("To'lovlar"),dataIndex:"total_payments",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_payments-s.total_payments}],[o,l]=x.useState([]);return x.useEffect(()=>{const a=c.get(e,"monthly_data",[]).map((s,d)=>({...s}));l(a)},[e]),t.jsx(B,{title:r("Savdolar (oylar bo'yicha)"),dataSource:o,columns:n,pagination:!1})},Ct=()=>{const{t:e}=j(),r=U();return t.jsxs(t.Fragment,{children:[t.jsx(M,{children:t.jsx("title",{children:e("Savdo statistikasi")})}),t.jsxs(y,{gutter:[20,20],children:[t.jsx(i,{span:24,children:t.jsxs(h,{align:"center",justify:"space-between",children:[t.jsx(q,{children:e("Savdo statistikasi")}),t.jsx(h,{gap:"middle",children:t.jsx(P,{})})]})}),t.jsx(i,{span:24,children:t.jsx($,{items:r})}),t.jsx(i,{span:24,children:t.jsxs(w,{tabPosition:"top",children:[t.jsx(_.TabPane,{tab:e("Umumiy"),children:t.jsx(H,{})},"1"),t.jsx(_.TabPane,{tab:e("Kunlik"),children:t.jsx(N,{})},"2"),t.jsx(_.TabPane,{tab:e("Oylik"),children:t.jsx(J,{})},"4"),t.jsx(_.TabPane,{tab:e("Yillik"),children:t.jsx(at,{})},"3")]})})]})]})};export{Ct as default};
