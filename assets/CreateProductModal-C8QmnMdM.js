import{r as o,aZ as te,a7 as ue,a6 as U,a_ as ln,a$ as ee,c as ge,a9 as fe,a8 as Qe,b0 as An,b1 as Ge,b2 as Te,a5 as Fn,b3 as Wn,b4 as Hn,aj as sn,b5 as Kn,b6 as zn,ab as cn,ac as Bn,ad as qn,b7 as Xn,b8 as Un,b9 as Ye,ba as un,bb as Gn,bc as Yn,bd as Jn,be as Qn,bf as Zn,ak as et,bg as nt,bh as tt,bi as at,bj as rt,bk as ot,bl as it,bm as tn,bn as lt,bo as st,p as ct,u as Ze,j as x,M as ut,as as an,a2 as dt,aw as ft,au as vt,B as Xe,O as Se,C as Ue,o as pt}from"./index-TTKrRBsV.js";import{c as mt,a as Je,g as ht}from"./CardTitle-WCnvc5ze.js";import{R as gt}from"./LeftOutlined-30Vtg-fw.js";import{f as Ct}from"./services.requests-CprgZdT8.js";import{u as bt}from"./useQuery-DXHJDm7O.js";import"./CustomDatePicker-dCRvPDUL.js";import{C as rn}from"./CustomInput-CfXd1HaZ.js";import"./CustomTextarea-DTb8tAvY.js";import{c as St,a as Le,e as xt,o as yt,u as wt,F as ve,C as xe}from"./index.esm-Dv3jW_V-.js";import{h as Pt}from"./products.requests-D64CJ7hA.js";import{u as It,a as Ot,b as _t}from"./useProductTypes-Dl-iJJ8n.js";import{C as Et}from"./CustomInputNumber-BoiyYvjJ.js";import{R as kt}from"./PlusOutlined-Ba-GwlE8.js";import{M as Vt}from"./DeleteFilled-Lrowix85.js";import{D as on}from"./index-CwYkfvr8.js";import{R as Mt,C as ye}from"./row-Bxwr5CQq.js";var Oe=o.createContext({}),we="__rc_cascader_search_mark__",$t=function(t,n,a){var r=a.label,i=r===void 0?"":r;return n.some(function(s){return String(s[i]).toLowerCase().includes(t.toLowerCase())})},Nt=function(t,n,a,r){return n.map(function(i){return i[r.label]}).join(" / ")};const jt=function(e,t,n,a,r,i){var s=r.filter,l=s===void 0?$t:s,c=r.render,u=c===void 0?Nt:c,g=r.limit,f=g===void 0?50:g,p=r.sort;return o.useMemo(function(){var S=[];if(!e)return[];function d(v,m){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;v.forEach(function(h){if(!(!p&&f!==!1&&f>0&&S.length>=f)){var $=[].concat(te(m),[h]),N=h[n.children],y=k||h.disabled;if((!N||N.length===0||i)&&l(e,$,{label:n.label})){var C;S.push(ue(ue({},h),{},(C={disabled:y},U(C,n.label,u(e,$,a,n)),U(C,we,$),U(C,n.children,void 0),C)))}N&&d(h[n.children],$,y)}})}return d(t,[]),p&&S.sort(function(v,m){return p(v[we],m[we],e,n)}),f!==!1&&f>0?S.slice(0,f):S},[e,t,n,a,u,i,l,p,f])};var en="__RC_CASCADER_SPLIT__",dn="SHOW_PARENT",fn="SHOW_CHILD";function ie(e){return e.join(en)}function Pe(e){return e.map(ie)}function Rt(e){return e.split(en)}function vn(e){var t=e||{},n=t.label,a=t.value,r=t.children,i=a||"value";return{label:n||"label",value:i,key:i,children:r||"children"}}function Ne(e,t){var n,a;return(n=e.isLeaf)!==null&&n!==void 0?n:!((a=e[t.children])!==null&&a!==void 0&&a.length)}function Dt(e){var t=e.parentElement;if(t){var n=e.offsetTop-t.offsetTop;n-t.scrollTop<0?t.scrollTo({top:n}):n+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:n+e.offsetHeight-t.offsetHeight})}}function pn(e,t){return e.map(function(n){var a;return(a=n[we])===null||a===void 0?void 0:a.map(function(r){return r[t.value]})})}function Lt(e){return Array.isArray(e)&&Array.isArray(e[0])}function Ae(e){return e?Lt(e)?e:(e.length===0?[]:[e]).map(function(t){return Array.isArray(t)?t:[t]}):[]}function mn(e,t,n){var a=new Set(e),r=t();return e.filter(function(i){var s=r[i],l=s?s.parent:null,c=s?s.children:null;return s&&s.node.disabled?!0:n===fn?!(c&&c.some(function(u){return u.key&&a.has(u.key)})):!(l&&!l.node.disabled&&a.has(l.key))})}function Ie(e,t,n){for(var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=t,i=[],s=function(){var u,g,f,p=e[l],S=(u=r)===null||u===void 0?void 0:u.findIndex(function(v){var m=v[n.value];return a?String(m)===String(p):m===p}),d=S!==-1?(g=r)===null||g===void 0?void 0:g[S]:null;i.push({value:(f=d==null?void 0:d[n.value])!==null&&f!==void 0?f:p,index:S,option:d}),r=d==null?void 0:d[n.children]},l=0;l<e.length;l+=1)s();return i}const Tt=function(e,t,n,a,r){return o.useMemo(function(){var i=r||function(s){var l=a?s.slice(-1):s,c=" / ";return l.every(function(u){return["string","number"].includes(ln(u))})?l.join(c):l.reduce(function(u,g,f){var p=o.isValidElement(g)?o.cloneElement(g,{key:f}):g;return f===0?[p]:[].concat(te(u),[c,p])},[])};return e.map(function(s){var l,c=Ie(s,t,n),u=i(c.map(function(f){var p,S=f.option,d=f.value;return(p=S==null?void 0:S[n.label])!==null&&p!==void 0?p:d}),c.map(function(f){var p=f.option;return p})),g=ie(s);return{label:u,value:g,key:g,valueCells:s,disabled:(l=c[c.length-1])===null||l===void 0||(l=l.option)===null||l===void 0?void 0:l.disabled}})},[e,t,n,r,a])};function hn(e,t){return o.useCallback(function(n){var a=[],r=[];return n.forEach(function(i){var s=Ie(i,e,t);s.every(function(l){return l.option})?r.push(i):a.push(i)}),[r,a]},[e,t])}const At=function(e,t){var n=o.useRef({options:[],info:{keyEntities:{},pathKeyEntities:{}}}),a=o.useCallback(function(){return n.current.options!==e&&(n.current.options=e,n.current.info=mt(e,{fieldNames:t,initWrapper:function(i){return ue(ue({},i),{},{pathKeyEntities:{}})},processEntity:function(i,s){var l=i.nodes.map(function(c){return c[t.value]}).join(en);s.pathKeyEntities[l]=i,i.key=l}})),n.current.info.pathKeyEntities},[t,e]);return a};function gn(e,t){var n=o.useMemo(function(){return t||[]},[t]),a=At(n,e),r=o.useCallback(function(i){var s=a();return i.map(function(l){var c=s[l].nodes;return c.map(function(u){return u[e.value]})})},[a,e]);return[n,a,r]}function Ft(e){return o.useMemo(function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&ln(e)==="object"&&(t=ue(ue({},t),e)),t.limit<=0&&delete t.limit,[!0,t]},[e])}function Cn(e,t,n,a,r,i,s,l){return function(c){if(!e)t(c);else{var u=ie(c),g=Pe(n),f=Pe(a),p=g.includes(u),S=r.some(function(C){return ie(C)===u}),d=n,v=r;if(S&&!p)v=r.filter(function(C){return ie(C)!==u});else{var m=p?g.filter(function(C){return C!==u}):[].concat(te(g),[u]),k=i(),h;if(p){var $=Je(m,{checked:!1,halfCheckedKeys:f},k);h=$.checkedKeys}else{var N=Je(m,!0,k);h=N.checkedKeys}var y=mn(h,i,l);d=s(y)}t([].concat(te(v),te(d)))}}}function bn(e,t,n,a,r){return o.useMemo(function(){var i=r(t),s=ee(i,2),l=s[0],c=s[1];if(!e||!t.length)return[l,[],c];var u=Pe(l),g=n(),f=Je(u,!0,g),p=f.checkedKeys,S=f.halfCheckedKeys;return[a(p),a(S),c]},[e,t,n,a,r])}var Wt=o.memo(function(e){var t=e.children;return t},function(e,t){return!t.open});function Ht(e){var t,n=e.prefixCls,a=e.checked,r=e.halfChecked,i=e.disabled,s=e.onClick,l=e.disableCheckbox,c=o.useContext(Oe),u=c.checkable,g=typeof u!="boolean"?u:null;return o.createElement("span",{className:ge("".concat(n),(t={},U(t,"".concat(n,"-checked"),a),U(t,"".concat(n,"-indeterminate"),!a&&r),U(t,"".concat(n,"-disabled"),i||l),t)),onClick:s},g)}var Sn="__cascader_fix_label__";function Kt(e){var t=e.prefixCls,n=e.multiple,a=e.options,r=e.activeValue,i=e.prevValuePath,s=e.onToggleOpen,l=e.onSelect,c=e.onActive,u=e.checkedSet,g=e.halfCheckedSet,f=e.loadingKeys,p=e.isSelectable,S=e.searchValue,d="".concat(t,"-menu"),v="".concat(t,"-menu-item"),m=o.useContext(Oe),k=m.fieldNames,h=m.changeOnSelect,$=m.expandTrigger,N=m.expandIcon,y=m.loadingIcon,C=m.dropdownMenuColumnStyle,P=m.optionRender,D=$==="hover",O=o.useMemo(function(){return a.map(function(b){var w,j=b.disabled,W=b.disableCheckbox,H=b[we],E=(w=b[Sn])!==null&&w!==void 0?w:b[k.label],B=b[k.value],K=Ne(b,k),G=H?H.map(function(Y){return Y[k.value]}):[].concat(te(i),[B]),V=ie(G),q=f.includes(V),M=u.has(V),L=g.has(V);return{disabled:j,label:E,value:B,isLeaf:K,isLoading:q,checked:M,halfChecked:L,option:b,disableCheckbox:W,fullPath:G,fullPathKey:V}})},[a,u,k,g,f,i]);return o.createElement("ul",{className:d,role:"menu"},O.map(function(b){var w,j=b.disabled,W=b.label,H=b.value,E=b.isLeaf,B=b.isLoading,K=b.checked,G=b.halfChecked,V=b.option,q=b.fullPath,M=b.fullPathKey,L=b.disableCheckbox,Y=function(){if(!(j||S)){var z=te(q);D&&E&&z.pop(),c(z)}},J=function(){p(V)&&l(q,E)},Q;return typeof V.title=="string"?Q=V.title:typeof W=="string"&&(Q=W),o.createElement("li",{key:M,className:ge(v,(w={},U(w,"".concat(v,"-expand"),!E),U(w,"".concat(v,"-active"),r===H||r===M),U(w,"".concat(v,"-disabled"),j),U(w,"".concat(v,"-loading"),B),w)),style:C,role:"menuitemcheckbox",title:Q,"aria-checked":K,"data-path-key":M,onClick:function(){Y(),!L&&(!n||E)&&J()},onDoubleClick:function(){h&&s(!1)},onMouseEnter:function(){D&&Y()},onMouseDown:function(z){z.preventDefault()}},n&&o.createElement(Ht,{prefixCls:"".concat(t,"-checkbox"),checked:K,halfChecked:G,disabled:j||L,disableCheckbox:L,onClick:function(z){L||(z.stopPropagation(),J())}}),o.createElement("div",{className:"".concat(v,"-content")},P?P(V):W),!B&&N&&!E&&o.createElement("div",{className:"".concat(v,"-expand-icon")},N),B&&y&&o.createElement("div",{className:"".concat(v,"-loading-icon")},y))}))}var zt=function(t,n){var a=o.useContext(Oe),r=a.values,i=r[0],s=o.useState([]),l=ee(s,2),c=l[0],u=l[1];return o.useEffect(function(){t||u(i||[])},[n,i]),[c,u]};const Bt=function(e,t,n,a,r,i,s){var l=s.direction,c=s.searchValue,u=s.toggleOpen,g=s.open,f=l==="rtl",p=o.useMemo(function(){for(var C=-1,P=t,D=[],O=[],b=a.length,w=pn(t,n),j=function(K){var G=P.findIndex(function(V,q){return(w[q]?ie(w[q]):V[n.value])===a[K]});if(G===-1)return 1;C=G,D.push(C),O.push(a[K]),P=P[C][n.children]},W=0;W<b&&P&&!j(W);W+=1);for(var H=t,E=0;E<D.length-1;E+=1)H=H[D[E]][n.children];return[O,C,H,w]},[a,n,t]),S=ee(p,4),d=S[0],v=S[1],m=S[2],k=S[3],h=function(P){r(P)},$=function(P){var D=m.length,O=v;O===-1&&P<0&&(O=D);for(var b=0;b<D;b+=1){O=(O+P+D)%D;var w=m[O];if(w&&!w.disabled){var j=d.slice(0,-1).concat(k[O]?ie(k[O]):w[n.value]);h(j);return}}},N=function(){if(d.length>1){var P=d.slice(0,-1);h(P)}else u(!1)},y=function(){var P,D=((P=m[v])===null||P===void 0?void 0:P[n.children])||[],O=D.find(function(w){return!w.disabled});if(O){var b=[].concat(te(d),[O[n.value]]);h(b)}};o.useImperativeHandle(e,function(){return{onKeyDown:function(P){var D=P.which;switch(D){case fe.UP:case fe.DOWN:{var O=0;D===fe.UP?O=-1:D===fe.DOWN&&(O=1),O!==0&&$(O);break}case fe.LEFT:{if(c)break;f?y():N();break}case fe.RIGHT:{if(c)break;f?N():y();break}case fe.BACKSPACE:{c||N();break}case fe.ENTER:{if(d.length){var b=m[v],w=(b==null?void 0:b[we])||[];w.length?i(w.map(function(j){return j[n.value]}),w[w.length-1]):i(d,m[v])}break}case fe.ESC:u(!1),g&&P.stopPropagation()}},onKeyUp:function(){}}})};var xn=o.forwardRef(function(e,t){var n,a,r,i=e.prefixCls,s=e.multiple,l=e.searchValue,c=e.toggleOpen,u=e.notFoundContent,g=e.direction,f=e.open,p=o.useRef(null),S=g==="rtl",d=o.useContext(Oe),v=d.options,m=d.values,k=d.halfValues,h=d.fieldNames,$=d.changeOnSelect,N=d.onSelect,y=d.searchOptions,C=d.dropdownPrefixCls,P=d.loadData,D=d.expandTrigger,O=C||i,b=o.useState([]),w=ee(b,2),j=w[0],W=w[1],H=function(I){if(!(!P||l)){var _=Ie(I,v,h),R=_.map(function(ce){var ne=ce.option;return ne}),F=R[R.length-1];if(F&&!Ne(F,h)){var se=ie(I);W(function(ce){return[].concat(te(ce),[se])}),P(R)}}};o.useEffect(function(){j.length&&j.forEach(function(T){var I=Rt(T),_=Ie(I,v,h,!0).map(function(F){var se=F.option;return se}),R=_[_.length-1];(!R||R[h.children]||Ne(R,h))&&W(function(F){return F.filter(function(se){return se!==T})})})},[v,j,h]);var E=o.useMemo(function(){return new Set(Pe(m))},[m]),B=o.useMemo(function(){return new Set(Pe(k))},[k]),K=zt(s,f),G=ee(K,2),V=G[0],q=G[1],M=function(I){q(I),H(I)},L=function(I){var _=I.disabled,R=Ne(I,h);return!_&&(R||$||s)},Y=function(I,_){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;N(I),!s&&(_||$&&(D==="hover"||R))&&c(!1)},J=o.useMemo(function(){return l?y:v},[l,y,v]),Q=o.useMemo(function(){for(var T=[{options:J}],I=J,_=pn(I,h),R=function(){var ce=V[F],ne=I.find(function(Ee,Ce){return(_[Ce]?ie(_[Ce]):Ee[h.value])===ce}),re=ne==null?void 0:ne[h.children];if(!(re!=null&&re.length))return 1;I=re,T.push({options:re})},F=0;F<V.length&&!R();F+=1);return T},[J,V,h]),A=function(I,_){L(_)&&Y(I,Ne(_,h),!0)};Bt(t,J,h,V,M,A,{direction:g,searchValue:l,toggleOpen:c,open:f}),o.useEffect(function(){for(var T=0;T<V.length;T+=1){var I,_=V.slice(0,T+1),R=ie(_),F=(I=p.current)===null||I===void 0?void 0:I.querySelector('li[data-path-key="'.concat(R.replace(/\\{0,2}"/g,'\\"'),'"]'));F&&Dt(F)}},[V]);var z=!((n=Q[0])!==null&&n!==void 0&&(n=n.options)!==null&&n!==void 0&&n.length),le=[(a={},U(a,h.value,"__EMPTY__"),U(a,Sn,u),U(a,"disabled",!0),a)],de=ue(ue({},e),{},{multiple:!z&&s,onSelect:Y,onActive:M,onToggleOpen:c,checkedSet:E,halfCheckedSet:B,loadingKeys:j,isSelectable:L}),ae=z?[{options:le}]:Q,X=ae.map(function(T,I){var _=V.slice(0,I),R=V[I];return o.createElement(Kt,Qe({key:I},de,{searchValue:l,prefixCls:O,options:T.options,prevValuePath:_,activeValue:R}))});return o.createElement(Wt,{open:f},o.createElement("div",{className:ge("".concat(O,"-menus"),(r={},U(r,"".concat(O,"-menu-empty"),z),U(r,"".concat(O,"-rtl"),S),r)),ref:p},X))}),qt=o.forwardRef(function(e,t){var n=An();return o.createElement(xn,Qe({},e,n,{ref:t}))});function Xt(){}function yn(e){var t,n=e,a=n.prefixCls,r=a===void 0?"rc-cascader":a,i=n.style,s=n.className,l=n.options,c=n.checkable,u=n.defaultValue,g=n.value,f=n.fieldNames,p=n.changeOnSelect,S=n.onChange,d=n.showCheckedStrategy,v=n.loadData,m=n.expandTrigger,k=n.expandIcon,h=k===void 0?">":k,$=n.loadingIcon,N=n.direction,y=n.notFoundContent,C=y===void 0?"Not Found":y,P=!!c,D=Ge(u,{value:g,postState:Ae}),O=ee(D,2),b=O[0],w=O[1],j=o.useMemo(function(){return vn(f)},[JSON.stringify(f)]),W=gn(j,l),H=ee(W,3),E=H[0],B=H[1],K=H[2],G=hn(E,j),V=bn(P,b,B,K,G),q=ee(V,3),M=q[0],L=q[1],Y=q[2],J=Te(function(ae){if(w(ae),S){var X=Ae(ae),T=X.map(function(R){return Ie(R,E,j).map(function(F){return F.option})}),I=P?X:X[0],_=P?T:T[0];S(I,_)}}),Q=Cn(P,J,M,L,Y,B,K,d),A=Te(function(ae){Q(ae)}),z=o.useMemo(function(){return{options:E,fieldNames:j,values:M,halfValues:L,changeOnSelect:p,onSelect:A,checkable:c,searchOptions:[],dropdownPrefixCls:void 0,loadData:v,expandTrigger:m,expandIcon:h,loadingIcon:$,dropdownMenuColumnStyle:void 0}},[E,j,M,L,p,A,c,v,m,h,$]),le="".concat(r,"-panel"),de=!E.length;return o.createElement(Oe.Provider,{value:z},o.createElement("div",{className:ge(le,(t={},U(t,"".concat(le,"-rtl"),N==="rtl"),U(t,"".concat(le,"-empty"),de),t),s),style:i},de?C:o.createElement(xn,{prefixCls:r,searchValue:"",multiple:P,toggleOpen:Xt,open:!0,direction:N})))}var Ut=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","dropdownStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy","optionRender"],je=o.forwardRef(function(e,t){var n=e.id,a=e.prefixCls,r=a===void 0?"rc-cascader":a,i=e.fieldNames,s=e.defaultValue,l=e.value,c=e.changeOnSelect,u=e.onChange,g=e.displayRender,f=e.checkable,p=e.autoClearSearchValue,S=p===void 0?!0:p,d=e.searchValue,v=e.onSearch,m=e.showSearch,k=e.expandTrigger,h=e.options,$=e.dropdownPrefixCls,N=e.loadData,y=e.popupVisible,C=e.open,P=e.popupClassName,D=e.dropdownClassName,O=e.dropdownMenuColumnStyle,b=e.dropdownStyle,w=e.popupPlacement,j=e.placement,W=e.onDropdownVisibleChange,H=e.onPopupVisibleChange,E=e.expandIcon,B=E===void 0?">":E,K=e.loadingIcon,G=e.children,V=e.dropdownMatchSelectWidth,q=V===void 0?!1:V,M=e.showCheckedStrategy,L=M===void 0?dn:M,Y=e.optionRender,J=Fn(e,Ut),Q=Wn(n),A=!!f,z=Ge(s,{value:l,postState:Ae}),le=ee(z,2),de=le[0],ae=le[1],X=o.useMemo(function(){return vn(i)},[JSON.stringify(i)]),T=gn(X,h),I=ee(T,3),_=I[0],R=I[1],F=I[2],se=Ge("",{value:d,postState:function(Z){return Z||""}}),ce=ee(se,2),ne=ce[0],re=ce[1],Ee=function(Z,he){re(Z),he.source!=="blur"&&v&&v(Z)},Ce=Ft(m),Re=ee(Ce,2),Fe=Re[0],De=Re[1],ke=jt(ne,_,X,$||r,De,c),We=hn(_,X),He=bn(A,de,R,F,We),Ve=ee(He,3),pe=Ve[0],Me=Ve[1],$e=Ve[2],Ke=o.useMemo(function(){var oe=Pe(pe),Z=mn(oe,R,L);return[].concat(te($e),te(F(Z)))},[pe,R,F,$e,L]),me=Tt(Ke,_,X,A,g),be=Te(function(oe){if(ae(oe),u){var Z=Ae(oe),he=Z.map(function(Ln){return Ie(Ln,_,X).map(function(Tn){return Tn.option})}),Be=A?Z:Z[0],qe=A?he:he[0];u(Be,qe)}}),kn=Cn(A,be,pe,Me,$e,R,F,L),ze=Te(function(oe){(!A||S)&&re(""),kn(oe)}),Vn=function(Z,he){if(he.type==="clear"){be([]);return}var Be=he.values[0],qe=Be.valueCells;ze(qe)},Mn=C!==void 0?C:y,$n=D||P,Nn=j||w,jn=function(Z){W==null||W(Z),H==null||H(Z)},Rn=o.useMemo(function(){return{options:_,fieldNames:X,values:pe,halfValues:Me,changeOnSelect:c,onSelect:ze,checkable:f,searchOptions:ke,dropdownPrefixCls:$,loadData:N,expandTrigger:k,expandIcon:B,loadingIcon:K,dropdownMenuColumnStyle:O,optionRender:Y}},[_,X,pe,Me,c,ze,f,ke,$,N,k,B,K,O,Y]),nn=!(ne?ke:_).length,Dn=ne&&De.matchInputWidth||nn?{}:{minWidth:"auto"};return o.createElement(Oe.Provider,{value:Rn},o.createElement(Hn,Qe({},J,{ref:t,id:Q,prefixCls:r,autoClearSearchValue:S,dropdownMatchSelectWidth:q,dropdownStyle:ue(ue({},Dn),b),displayValues:me,onDisplayValuesChange:Vn,mode:A?"multiple":void 0,searchValue:ne,onSearch:Ee,showSearch:Fe,OptionList:qt,emptyOptions:nn,open:Mn,dropdownClassName:$n,placement:Nn,onDropdownVisibleChange:jn,getRawInputElement:function(){return G}})))});je.SHOW_PARENT=dn;je.SHOW_CHILD=fn;je.Panel=yn;function wn(e,t){const{getPrefixCls:n,direction:a,renderEmpty:r}=o.useContext(sn),i=t||a,s=n("select",e),l=n("cascader",e);return[s,l,i,r]}function Pn(e,t){return o.useMemo(()=>t?o.createElement("span",{className:`${e}-checkbox-inner`}):!1,[t])}function In(e,t,n){let a=n;n||(a=t?o.createElement(gt,null):o.createElement(Kn,null));const r=o.createElement("span",{className:`${e}-menu-item-loading-icon`},o.createElement(zn,{spin:!0}));return[a,r]}const On=e=>{const{prefixCls:t,componentCls:n}=e,a=`${n}-menu-item`,r=`
  &${a}-expand ${a}-expand-icon,
  ${a}-loading-icon
`;return[ht(`${t}-checkbox`,e),{[n]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${n}-menu-empty`]:{[`${n}-menu`]:{width:"100%",height:"auto",[a]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,flexShrink:0,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.menuPadding,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${cn(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},Bn),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:e.optionPadding,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[r]:{color:e.colorTextDisabled}},[`&-active:not(${a}-disabled)`]:{"&, &:hover":{fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg}},"&-content":{flex:"auto"},[r]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]},Gt=e=>{const{componentCls:t,antCls:n}=e;return[{[t]:{width:e.controlWidth}},{[`${t}-dropdown`]:[{[`&${n}-select-dropdown`]:{padding:0}},On(e)]},{[`${t}-dropdown-rtl`]:{direction:"rtl"}},Xn(e)]},_n=e=>{const t=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return{controlWidth:184,controlItemWidth:111,dropdownHeight:180,optionSelectedBg:e.controlItemBgActive,optionSelectedFontWeight:e.fontWeightStrong,optionPadding:`${t}px ${e.paddingSM}px`,menuPadding:e.paddingXXS}},En=qn("Cascader",e=>[Gt(e)],_n),Yt=e=>{const{componentCls:t}=e;return{[`${t}-panel`]:[On(e),{display:"inline-flex",border:`${cn(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:e.borderRadiusLG,overflowX:"auto",maxWidth:"100%",[`${t}-menus`]:{alignItems:"stretch"},[`${t}-menu`]:{height:"auto"},"&-empty":{padding:e.paddingXXS}}]}},Jt=Un(["Cascader","Panel"],e=>Yt(e),_n);function Qt(e){const{prefixCls:t,className:n,multiple:a,rootClassName:r,notFoundContent:i,direction:s,expandIcon:l}=e,[c,u,g,f]=wn(t,s),p=Ye(u),[S,d,v]=En(u,p);Jt(u);const m=g==="rtl",[k,h]=In(c,m,l),$=i||(f==null?void 0:f("Cascader"))||o.createElement(un,{componentName:"Cascader"}),N=Pn(u,a);return S(o.createElement(yn,Object.assign({},e,{checkable:N,prefixCls:u,className:ge(n,d,r,v,p),notFoundContent:$,direction:g,expandIcon:k,loadingIcon:h})))}var Zt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const{SHOW_CHILD:ea,SHOW_PARENT:na}=je;function ta(e,t,n){const a=e.toLowerCase().split(t).reduce((s,l,c)=>c===0?[l]:[].concat(te(s),[t,l]),[]),r=[];let i=0;return a.forEach((s,l)=>{const c=i+s.length;let u=e.slice(i,c);i=c,l%2===1&&(u=o.createElement("span",{className:`${n}-menu-item-keyword`,key:`separator-${l}`},u)),r.push(u)}),r}const aa=(e,t,n,a)=>{const r=[],i=e.toLowerCase();return t.forEach((s,l)=>{l!==0&&r.push(" / ");let c=s[a.label];const u=typeof c;(u==="string"||u==="number")&&(c=ta(String(c),i,n)),r.push(c)}),r},_e=o.forwardRef((e,t)=>{var n;const{prefixCls:a,size:r,disabled:i,className:s,rootClassName:l,multiple:c,bordered:u=!0,transitionName:g,choiceTransitionName:f="",popupClassName:p,dropdownClassName:S,expandIcon:d,placement:v,showSearch:m,allowClear:k=!0,notFoundContent:h,direction:$,getPopupContainer:N,status:y,showArrow:C,builtinPlacements:P,style:D,variant:O}=e,b=Zt(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements","style","variant"]),w=Gn(b,["suffixIcon"]),{getPopupContainer:j,getPrefixCls:W,popupOverflow:H,cascader:E}=o.useContext(sn),{status:B,hasFeedback:K,isFormItemInput:G,feedbackIcon:V}=o.useContext(Yn),q=lt(B,y),[M,L,Y,J]=wn(a,$),Q=Y==="rtl",A=W(),z=Ye(M),[le,de,ae]=Jn(M,z),X=Ye(L),[T]=En(L,X),{compactSize:I,compactItemClassnames:_}=Qn(M,$),[R,F]=Zn(O,u),se=h||(J==null?void 0:J("Cascader"))||o.createElement(un,{componentName:"Cascader"}),ce=ge(p||S,`${L}-dropdown`,{[`${L}-dropdown-rtl`]:Y==="rtl"},l,z,X,de,ae),ne=o.useMemo(()=>{if(!m)return m;let me={render:aa};return typeof m=="object"&&(me=Object.assign(Object.assign({},me),m)),me},[m]),re=et(me=>{var be;return(be=r??I)!==null&&be!==void 0?be:me}),Ee=o.useContext(nt),Ce=i??Ee,[Re,Fe]=In(M,Q,d),De=Pn(L,c),ke=tt(e.suffixIcon,C),{suffixIcon:We,removeIcon:He,clearIcon:Ve}=at(Object.assign(Object.assign({},e),{hasFeedback:K,feedbackIcon:V,showSuffixIcon:ke,multiple:c,prefixCls:M,componentName:"Cascader"})),pe=o.useMemo(()=>v!==void 0?v:Q?"bottomRight":"bottomLeft",[v,Q]),Me=k===!0?{clearIcon:Ve}:k,[$e]=rt("SelectLike",(n=w.dropdownStyle)===null||n===void 0?void 0:n.zIndex),Ke=o.createElement(je,Object.assign({prefixCls:M,className:ge(!a&&L,{[`${M}-lg`]:re==="large",[`${M}-sm`]:re==="small",[`${M}-rtl`]:Q,[`${M}-${R}`]:F,[`${M}-in-form-item`]:G},ot(M,q,K),_,E==null?void 0:E.className,s,l,z,X,de,ae),disabled:Ce,style:Object.assign(Object.assign({},E==null?void 0:E.style),D)},w,{builtinPlacements:it(P,H),direction:Y,placement:pe,notFoundContent:se,allowClear:Me,showSearch:ne,expandIcon:Re,suffixIcon:We,removeIcon:He,loadingIcon:Fe,checkable:De,dropdownClassName:ce,dropdownPrefixCls:a||L,dropdownStyle:Object.assign(Object.assign({},w.dropdownStyle),{zIndex:$e}),choiceTransitionName:tn(A,"",f),transitionName:tn(A,"slide-up",g),getPopupContainer:N||j,ref:t}));return T(le(Ke))}),ra=st(_e);_e.SHOW_PARENT=na;_e.SHOW_CHILD=ea;_e.Panel=Qt;_e._InternalPanelDoNotUseOrYouWillBeFired=ra;const oa=ct(_e)``,ya=({...e})=>{const{t}=Ze();return x.jsx(oa,{allowClear:!0,autoClearSearchValue:!0,placeholder:t("Tanlang"),virtual:!1,placement:"topLeft",showSearch:!0,optionFilterProp:"label",style:{width:"100%"},maxTagCount:"responsive",...e})},wa=e=>{const{data:t=[],refetch:n,...a}=bt({queryKey:["all-services"],queryFn:Ct,select:i=>i.data});o.useEffect(()=>{n()},[e,n]);const r=o.useMemo(()=>t.map(i=>({text:`${i.name}`,label:`${i.name}`,value:i.id})),[t]);return{servicesData:t,servicesLoading:a.isLoading,servicesError:a.isError,servicesOptions:r,...a}},Pa=()=>{const{t:e}=Ze();return[{text:e("O'lchovsiz"),value:"O'lchovsiz"},{text:e("O'lchovli"),value:"O'lchovli"},{text:e("Formatli"),value:"Formatli"}]},Ia=()=>{const{t:e}=Ze(),[t,n]=o.useState(!1),a=()=>{n(!0)},r=()=>{n(!1)},{isLoading:i,isPending:s,mutateAsync:l}=ut({mutationFn:Pt,onSuccess:()=>{an(),dt(e("Muvaffaqiyatli bajarildi !"))},onError:y=>{an(),console.log(y)}}),{company:{currency_type:c}}=ft(),u=St().shape({category_id:Le().required(e("Maydonni kiritishingiz shart !")),format_id:Le().required(e("Maydonni kiritishingiz shart !")),product_type:Le().required(e("Maydonni kiritishingiz shart !")),name:Le().required(e("Maydonni kiritishingiz shart !")),price:xt().min(0,e("Narx noldan katta yoki teng bo'lishi kerak !")).required(e("Maydonni kiritishingiz shart !"))}),g=yt(u),{productCategoriesOptions:f}=It(),{productFormatsOptions:p}=Ot(),S=_t(),{control:d,formState:{errors:v},reset:m,watch:k,...h}=wt({defaultValues:{added:vt()},resolver:g}),$=()=>m({}),N=h.handleSubmit(async y=>{try{const C=await l(y);(C==null?void 0:C.status)===201&&($(),r(),window.location.reload())}catch(C){console.error("Error during form submission:",C)}});return x.jsxs(x.Fragment,{children:[x.jsx(Xe,{icon:x.jsx(kt,{}),type:"default",size:"small",onClick:()=>a(),children:e("Qo'shish")}),x.jsx(Vt,{title:e("Mahsulot qo'shish"),open:t,onCancel:r,footer:null,children:x.jsxs(ve,{layout:"vertical",className:"create-form",name:"create-form",size:"large",onFinish:N,children:[x.jsx(on,{}),x.jsxs(Mt,{gutter:[20,20],children:[x.jsx(ye,{xs:24,md:12,children:x.jsx(ve.Item,{label:e("Nomi"),...Se(v,"name"),required:!0,children:x.jsx(xe,{name:"name",control:d,render:({field:y})=>x.jsx(rn,{...y})})})}),x.jsx(ye,{xs:24,md:12,children:x.jsx(ve.Item,{label:e("Kategoriya"),...Se(v,"category_id"),required:!0,children:x.jsx(xe,{name:"category_id",control:d,render:({field:y})=>x.jsx(Ue,{options:f,...y})})})}),x.jsx(ye,{xs:24,md:12,children:x.jsx(ve.Item,{label:e("Format"),...Se(v,"format_id"),required:!0,children:x.jsx(xe,{name:"format_id",control:d,render:({field:y})=>x.jsx(Ue,{options:p,...y})})})}),x.jsx(ye,{xs:24,md:12,children:x.jsx(ve.Item,{label:e("Narxi"),...Se(v,"price"),required:!0,children:x.jsx(xe,{name:"price",control:d,render:({field:y})=>x.jsx(Et,{addonAfter:c,...y})})})}),x.jsx(ye,{xs:24,md:12,children:x.jsx(ve.Item,{label:e("Mahsulot turi"),...Se(v,"product_type"),required:!0,children:x.jsx(xe,{name:"product_type",control:d,render:({field:y})=>x.jsx(Ue,{showSearch:!1,options:S,...y})})})}),x.jsx(ye,{xs:24,md:12,children:x.jsx(ve.Item,{label:e("Barcode"),...Se(v,"bar_code"),children:x.jsx(xe,{name:"bar_code",control:d,render:({field:y})=>x.jsx(rn,{...y})})})})]}),x.jsx(on,{}),x.jsx(ve.Item,{children:x.jsxs(pt,{align:"center",justify:"end",gap:"middle",children:[x.jsx(Xe,{htmlType:"button",onClick:r,children:e("Bekor qilish")}),x.jsx(Xe,{type:"primary",htmlType:"submit",loading:i,disabled:i,children:e("Yuborish")})]})})]})})]})};export{ya as C,Pa as a,Ia as b,wa as u};
