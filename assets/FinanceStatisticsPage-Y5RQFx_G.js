import{u as m,aw as b,r as x,au as f,j as t,o as j,V as d,dV as _,X as u,aC as D,aB as y,dW as E,ar as M}from"./index-TTKrRBsV.js";import{B as I}from"./BackButton-BLVW6gZr.js";import{C as B}from"./CustomTabs-DeR7qKEd.js";import{P as X,B as z}from"./PageTitle-OKMYAOp7.js";import{u as G}from"./useFinanceBreadcrumb-FIHdSzeU.js";import{C as p,c as S,n as P,o as w,p as $,q}from"./CustomColumnChart-IbFykfOL.js";import{C as A}from"./CustomDatePicker-dCRvPDUL.js";import{C as v}from"./CustomDataTable-D2IlOEuA.js";import{P as F,E as Y}from"./PageLoader-DmyE2ANN.js";import{u as k}from"./useQuery-DXHJDm7O.js";import{R as h,C as l}from"./row-Bxwr5CQq.js";import{C}from"./index-Chkbatr3.js";import{T}from"./index-CB8Qoy1w.js";import"./LeftOutlined-30Vtg-fw.js";import"./Skeleton-Bgqqq5sk.js";import"./CardTitle-WCnvc5ze.js";import"./Table-DaguqWZh.js";import"./index-CRizbU4B.js";import"./index-DVNdkQR1.js";import"./PlusOutlined-Ba-GwlE8.js";const K=()=>{const{t:e}=m(),{company:{currency_type:r}}=b(),[n,o]=x.useState(f().format("YYYY-MM-DD")),{data:i,isLoading:a,error:s}=k({queryKey:["finance-daily",n],queryFn:()=>P(n),select:c=>c.data,enabled:!!n});return t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,children:t.jsxs(j,{align:"center",justify:"space-between",children:[t.jsx(d.Title,{level:5,children:e("Kunlik statistika")}),t.jsx(A,{style:{width:"200px"},picker:"day",value:f(n),format:"YYYY-MM-DD",onChange:(c,g)=>{o(g)}})]})}),t.jsx(l,{xs:24,children:a?t.jsx(F,{}):t.jsx(t.Fragment,{children:s?t.jsx(Y,{error:s}):t.jsx(t.Fragment,{children:t.jsx(j,{gap:"20px",vertical:!0,children:t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,md:6,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:e("Sana")}),value:n,formatter:c=>`${c}`,prefix:t.jsx(_,{})})}),t.jsx(l,{xs:24,md:6,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:e("Xarajatlar summasi")}),value:u.get(i,"total_summa",0),precision:2,prefix:t.jsx(D,{}),suffix:r})}),t.jsx(l,{xs:24,md:24,children:t.jsx(R,{data:i})}),t.jsx(l,{xs:24,md:24,children:t.jsx(L,{data:i})})]})})})})})]})},R=({data:e})=>{const{t:r}=m(),[n,o]=x.useState([]);x.useEffect(()=>{const a=u.get(e,"transactions",[]).map((s,c)=>({type:s.transaction_name,value:s.total_summa}));o(a)},[e]);const i={data:n};return t.jsx(C,{title:r("Xarajatlar summasi (tranzaktsiyalar bo'yicha)"),children:t.jsx(S,{config:i})})},L=({data:e})=>{const{t:r}=m(),n=[{title:r("Tranzaktsiya nomi"),dataIndex:"transaction_name"},{title:r("Soni"),dataIndex:"total_count",render:a=>t.jsx(t.Fragment,{children:y(a,r("ta"))}),sorter:(a,s)=>a.total_count-s.total_count},{title:r("Summa"),dataIndex:"total_summa",render:a=>t.jsx(t.Fragment,{children:y(a)}),sorter:(a,s)=>a.total_summa-s.total_summa}],[o,i]=x.useState([]);return x.useEffect(()=>{const a=u.get(e,"transactions",[]).map((s,c)=>({...s}));i(a)},[e]),t.jsx(v,{title:r("Xarajatlar (tranzaktsiyalar bo'yicha)"),dataSource:o,columns:n,pagination:!1})},O=()=>{const{t:e}=m(),{company:{currency_type:r}}=b(),[n,o]=x.useState(f().format("YYYY-MM")),{data:i,isLoading:a,error:s}=k({queryKey:["finance-monthly",n],queryFn:()=>w(n),select:c=>c.data,enabled:!!n});return t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,children:t.jsxs(j,{align:"center",justify:"space-between",children:[t.jsx(d.Title,{level:5,children:e("Oylik statistika")}),t.jsx(A,{style:{width:"200px"},picker:"month",value:f(n),format:"YYYY-MM",onChange:(c,g)=>{o(g)}})]})}),t.jsx(l,{xs:24,children:a?t.jsx(F,{}):t.jsx(t.Fragment,{children:s?t.jsx(Y,{error:s}):t.jsx(t.Fragment,{children:t.jsx(j,{gap:"20px",vertical:!0,children:t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,md:8,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:e("Oy")}),value:E(n),formatter:c=>`${c}`,prefix:t.jsx(_,{})})}),t.jsx(l,{xs:24,md:8,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:e("Yil")}),value:n.slice(0,4),formatter:c=>`${c}`,prefix:t.jsx(_,{})})}),t.jsx(l,{xs:24,md:8,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:e("Xarajatlar summasi")}),value:u.get(i,"total_summa",0),precision:2,prefix:t.jsx(D,{}),suffix:r})}),t.jsx(l,{xs:24,md:24,children:t.jsx(U,{data:i})}),t.jsx(l,{xs:24,md:24,children:t.jsx(V,{data:i})})]})})})})})]})},U=({data:e})=>{const{t:r}=m(),[n,o]=x.useState([]);x.useEffect(()=>{const a=u.get(e,"transactions",[]).map((s,c)=>({type:s.transaction_name,value:s.total_summa}));o(a)},[e]);const i={data:n};return t.jsx(C,{title:r("Xarajatlar summasi (tranzaktsiyalar bo'yicha)"),children:t.jsx(S,{config:i})})},V=({data:e})=>{const{t:r}=m(),n=[{title:r("Tranzaktsiya nomi"),dataIndex:"transaction_name"},{title:r("Soni"),dataIndex:"total_count",render:a=>t.jsx(t.Fragment,{children:y(a,r("ta"))}),sorter:(a,s)=>a.total_count-s.total_count},{title:r("Summa"),dataIndex:"total_summa",render:a=>t.jsx(t.Fragment,{children:y(a)}),sorter:(a,s)=>a.total_summa-s.total_summa}],[o,i]=x.useState([]);return x.useEffect(()=>{const a=u.get(e,"transactions",[]).map((s,c)=>({...s}));i(a)},[e]),t.jsx(v,{title:r("Xarajatlar (tranzaktsiyalar bo'yicha)"),dataSource:o,columns:n,pagination:!1})},H=()=>{const{t:e}=m(),{company:{currency_type:r}}=b(),{data:n,isLoading:o,error:i}=k({queryKey:["finance-total"],queryFn:$,select:a=>a.data});return t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,children:t.jsx(j,{align:"center",justify:"space-between",children:t.jsx(d.Title,{level:5,children:e("Umumiy statistika")})})}),t.jsx(l,{xs:24,children:o?t.jsx(F,{}):t.jsx(t.Fragment,{children:i?t.jsx(Y,{error:i}):t.jsx(t.Fragment,{children:t.jsx(j,{gap:"20px",vertical:!0,children:t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,md:6,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:e("Xarajatlar summasi")}),value:u.get(n,"total_summa",0),precision:2,prefix:t.jsx(D,{}),suffix:r})}),t.jsx(l,{xs:24,md:24,children:t.jsx(N,{data:n})}),t.jsx(l,{xs:24,md:24,children:t.jsx(Q,{data:n})})]})})})})})]})},N=({data:e})=>{const{t:r}=m(),[n,o]=x.useState([]);x.useEffect(()=>{const a=u.get(e,"transactions",[]).map((s,c)=>({type:s.transaction_name,value:s.total_summa}));o(a)},[e]);const i={data:n};return t.jsx(C,{title:r("Xarajatlar summasi (tranzaktsiyalar bo'yicha)"),children:t.jsx(S,{config:i})})},Q=({data:e})=>{const{t:r}=m(),n=[{title:r("Tranzaktsiya nomi"),dataIndex:"transaction_name"},{title:r("Soni"),dataIndex:"total_count",render:a=>t.jsx(t.Fragment,{children:y(a,r("ta"))}),sorter:(a,s)=>a.total_count-s.total_count},{title:r("Summa"),dataIndex:"total_summa",render:a=>t.jsx(t.Fragment,{children:y(a)}),sorter:(a,s)=>a.total_summa-s.total_summa}],[o,i]=x.useState([]);return x.useEffect(()=>{const a=u.get(e,"transactions",[]).map((s,c)=>({...s}));i(a)},[e]),t.jsx(v,{title:r("Xarajatlar (tranzaktsiyalar bo'yicha)"),dataSource:o,columns:n,pagination:!1})},W=()=>{const{t:e}=m(),{company:{currency_type:r}}=b(),[n,o]=x.useState(f().format("YYYY")),{data:i,isLoading:a,error:s}=k({queryKey:["finance-monthly",n],queryFn:()=>q(n),select:c=>c.data,enabled:!!n});return t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,children:t.jsxs(j,{align:"center",justify:"space-between",children:[t.jsx(d.Title,{level:5,children:e("Yillik statistika")}),t.jsx(A,{style:{width:"200px"},picker:"year",value:f(n),format:"YYYY",onChange:(c,g)=>{o(g)}})]})}),t.jsx(l,{xs:24,children:a?t.jsx(F,{}):t.jsx(t.Fragment,{children:s?t.jsx(Y,{error:s}):t.jsx(t.Fragment,{children:t.jsx(j,{gap:"20px",vertical:!0,children:t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,md:6,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:e("Yil")}),value:n,formatter:c=>`${c}`,prefix:t.jsx(_,{})})}),t.jsx(l,{xs:24,md:6,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:e("Xarajatlar summasi")}),value:u.get(i,"total_summa",0),precision:2,prefix:t.jsx(D,{}),suffix:r})}),t.jsx(l,{xs:24,md:24,children:t.jsx(J,{data:i})}),t.jsx(l,{xs:24,md:24,children:t.jsx(Z,{data:i})})]})})})})})]})},J=({data:e})=>{const{t:r}=m(),[n,o]=x.useState([]);x.useEffect(()=>{const a=u.get(e,"transactions",[]).map((s,c)=>({type:s.transaction_name,value:s.total_summa}));o(a)},[e]);const i={data:n};return t.jsx(C,{title:r("Xarajatlar summasi (tranzaktsiyalar bo'yicha)"),children:t.jsx(S,{config:i})})},Z=({data:e})=>{const{t:r}=m(),n=[{title:r("Tranzaktsiya nomi"),dataIndex:"transaction_name",render:a=>t.jsx(t.Fragment,{children:a})},{title:r("Soni"),dataIndex:"total_count",render:a=>t.jsx(t.Fragment,{children:y(a,r("ta"))}),sorter:(a,s)=>a.total_count-s.total_count},{title:r("Summa"),dataIndex:"total_summa",render:a=>t.jsx(t.Fragment,{children:y(a)}),sorter:(a,s)=>a.total_summa-s.total_summa}],[o,i]=x.useState([]);return x.useEffect(()=>{const a=u.get(e,"transactions",[]).map((s,c)=>({...s}));i(a)},[e]),t.jsx(v,{title:r("Xarajatlar (tranzaktsiyalar bo'yicha)"),dataSource:o,columns:n,pagination:!1})},Tt=()=>{const{t:e}=m(),r=G();return t.jsxs(t.Fragment,{children:[t.jsx(M,{children:t.jsx("title",{children:e("Moliya statistikasi")})}),t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{span:24,children:t.jsxs(j,{align:"center",justify:"space-between",children:[t.jsx(X,{children:e("Moliya statistikasi")}),t.jsx(j,{gap:"middle",children:t.jsx(I,{})})]})}),t.jsx(l,{span:24,children:t.jsx(z,{items:r})}),t.jsx(l,{span:24,children:t.jsxs(B,{tabPosition:"top",children:[t.jsx(T.TabPane,{tab:e("Umumiy"),children:t.jsx(H,{})},"1"),t.jsx(T.TabPane,{tab:e("Kunlik"),children:t.jsx(K,{})},"2"),t.jsx(T.TabPane,{tab:e("Oylik"),children:t.jsx(O,{})},"4"),t.jsx(T.TabPane,{tab:e("Yillik"),children:t.jsx(W,{})},"3")]})})]})]})};export{Tt as default};
