import{u as x,j as e,o as u,I as M,l as C,M as b,a2 as E,aQ as v,B as p,r as m,aq as w,ar as D}from"./index-TTKrRBsV.js";import{G as P,C as L}from"./GlobalSearchInput-D1DeoeWx.js";import{C as N}from"./CreateButton-xdDnGHH7.js";import{C as Q}from"./CustomDataTable-D2IlOEuA.js";import{P as $,B as q}from"./PageTitle-OKMYAOp7.js";import{h as G,a as O}from"./finance-transactions.requests-SV3CdYtH.js";import{u as A}from"./useQuery-DXHJDm7O.js";import{C as U}from"./CustomModalConfirm-DuPb8srr.js";import{R as _}from"./EyeFilled-oI1XtQGU.js";import{R as H}from"./EditFilled-96y0AoAx.js";import{R as K}from"./DeleteFilled-Lrowix85.js";import{R as f,C as o}from"./row-Bxwr5CQq.js";import"./index-CRizbU4B.js";import"./PlusOutlined-Ba-GwlE8.js";import"./CardTitle-WCnvc5ze.js";import"./Table-DaguqWZh.js";import"./LeftOutlined-30Vtg-fw.js";import"./useClosable-CgTQR01w.js";import"./Skeleton-Bgqqq5sk.js";import"./fade-m1HoRkfl.js";const J=()=>{const{t:a}=x();return[{title:e.jsxs(u,{align:"center",gap:"small",children:[e.jsx(M,{size:20}),e.jsx("span",{children:a("Moliya")})]})},{title:a("Tranzaktsiyalar")}]},V=(a,h,s,c)=>{const{t:i}=x(),n=C(),d=b({mutationFn:G,onSuccess:()=>{E(),c()},onError:t=>{console.log(t)}}),l=t=>{d.mutate(t)};return[{title:"â„–",dataIndex:"id",key:"id",width:"50px",render:(t,g,j)=>e.jsx(e.Fragment,{children:(a.current-1)*a.pageSize+j+1})},{title:i("Nomi"),dataIndex:"name",key:"name"},{title:e.jsx(v,{size:15}),dataIndex:"id",key:"operation",align:"center",width:90,render:t=>e.jsxs(u,{align:"center",justify:"space-between",gap:"small",children:[e.jsx(p,{type:"primary",onClick:()=>n(`${t}`),icon:e.jsx(_,{})}),e.jsx(p,{onClick:()=>n(`update/${t}`),icon:e.jsx(H,{})}),e.jsx(U,{trigger:e.jsx(p,{danger:!0,icon:e.jsx(K,{})}),onOk:()=>l(t)})]})}]},Ce=()=>{const{t:a}=x(),h=C(),[s,c]=m.useState({current:1,pageSize:10,total:null}),[i,n]=m.useState({}),[d,l]=m.useState(""),{data:t,isLoading:g,isError:j,error:W,isFetching:X,refetch:S,isRefetching:y,...Y}=A({queryKey:["finance-transactions",{page:s.current,pageSize:s.pageSize,filters:i}],queryFn:()=>O(s.current,s.pageSize,w(i)),select:r=>r.data,keepPreviousData:!0});m.useEffect(()=>{t&&c({current:t.current||1,pageSize:t.pageSize||10,total:t.total||""})},[t]);const F=(r,I)=>{c({...r}),n(I)},z=()=>{n({}),l("")},k=r=>{n({...i,search:r})},R=r=>{l(r.target.value)},T=V(s,i,n,S),B=J();return e.jsxs(e.Fragment,{children:[e.jsx(D,{children:e.jsx("title",{children:a("Moliya tranzaktsiyalari")})}),e.jsxs(f,{gutter:[20,20],children:[e.jsx(o,{span:24,children:e.jsx(u,{align:"center",justify:"space-between",children:e.jsx($,{children:a("Moliya tranzaktsiyalari")})})}),e.jsx(o,{span:24,children:e.jsx(q,{items:B})}),e.jsx(o,{span:24,children:e.jsxs(f,{gutter:[20,20],children:[e.jsx(o,{xs:24,sm:24,md:24,lg:6,xl:6,children:e.jsx(P,{value:d,placeholder:a("Qidiruv"),enterButton:!0,onSearch:k,onChange:R})}),e.jsx(o,{xs:24,sm:24,md:24,lg:18,xl:18,children:e.jsxs(u,{align:"center",justify:"end",gap:"middle",children:[e.jsx(L,{onClick:z}),e.jsx(N,{onClick:()=>h("create")})]})}),e.jsx(o,{span:24,children:e.jsx(Q,{columns:T,data:(t==null?void 0:t.results)||[],pagination:s,loading:g||y,onChange:F})})]})})]})]})};export{Ce as default};
