import{u as x,aw as _,r as m,au as f,j as t,o as j,V as d,dV as S,X as u,aC as T,aB as g,dW as E,ar as X}from"./index-TTKrRBsV.js";import{B as z}from"./BackButton-BLVW6gZr.js";import{C as I}from"./CustomTabs-DeR7qKEd.js";import{P as B,B as M}from"./PageTitle-OKMYAOp7.js";import{u as G}from"./useFinanceBreadcrumb-FIHdSzeU.js";import{C as p,c as D,r as P,s as w,t as $,u as q}from"./CustomColumnChart-IbFykfOL.js";import{C as A}from"./CustomDatePicker-dCRvPDUL.js";import{C as b}from"./CustomDataTable-D2IlOEuA.js";import{P as Y,E as F}from"./PageLoader-DmyE2ANN.js";import{u as C}from"./useQuery-DXHJDm7O.js";import{R as h,C as l}from"./row-Bxwr5CQq.js";import{C as k}from"./index-Chkbatr3.js";import{T as v}from"./index-CB8Qoy1w.js";import"./LeftOutlined-30Vtg-fw.js";import"./Skeleton-Bgqqq5sk.js";import"./CardTitle-WCnvc5ze.js";import"./Table-DaguqWZh.js";import"./index-CRizbU4B.js";import"./index-DVNdkQR1.js";import"./PlusOutlined-Ba-GwlE8.js";const K=()=>{const{t:s}=x(),{company:{currency_type:r}}=_(),[n,o]=m.useState(f().format("YYYY-MM-DD")),{data:i,isLoading:e,error:a}=C({queryKey:["service-daily",n],queryFn:()=>P(n),select:c=>c.data,enabled:!!n});return t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,children:t.jsxs(j,{align:"center",justify:"space-between",children:[t.jsx(d.Title,{level:5,children:s("Kunlik statistika")}),t.jsx(A,{style:{width:"200px"},picker:"day",value:f(n),format:"YYYY-MM-DD",onChange:(c,y)=>{o(y)}})]})}),t.jsx(l,{xs:24,children:e?t.jsx(Y,{}):t.jsx(t.Fragment,{children:a?t.jsx(F,{error:a}):t.jsx(t.Fragment,{children:t.jsx(j,{gap:"20px",vertical:!0,children:t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,md:6,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:s("Sana")}),value:n,formatter:c=>`${c}`,prefix:t.jsx(S,{})})}),t.jsx(l,{xs:24,md:6,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:s("Xizmatlar summasi")}),value:u.get(i,"total_summa",0),precision:2,prefix:t.jsx(T,{}),suffix:r})}),t.jsx(l,{xs:24,md:24,children:t.jsx(N,{data:i})}),t.jsx(l,{xs:24,md:24,children:t.jsx(R,{data:i})})]})})})})})]})},N=({data:s})=>{const{t:r}=x(),[n,o]=m.useState([]);m.useEffect(()=>{const e=u.get(s,"services",[]).map((a,c)=>({type:a.service_name,value:a.total_summa}));o(e)},[s]);const i={data:n};return t.jsx(k,{title:r("Xizmatlar summasi"),children:t.jsx(D,{config:i})})},R=({data:s})=>{const{t:r}=x(),n=[{title:r("Nomi"),dataIndex:"service_name"},{title:r("Soni"),dataIndex:"total_count",render:e=>t.jsx(t.Fragment,{children:g(e,r("ta"))}),sorter:(e,a)=>e.total_count-a.total_count},{title:r("Summa"),dataIndex:"total_summa",render:e=>t.jsx(t.Fragment,{children:g(e)}),sorter:(e,a)=>e.total_summa-a.total_summa}],[o,i]=m.useState([]);return m.useEffect(()=>{const e=u.get(s,"services",[]).map((a,c)=>({...a}));i(e)},[s]),t.jsx(b,{title:r("Xizmatlar"),dataSource:o,columns:n,pagination:!1})},L=()=>{const{t:s}=x(),{company:{currency_type:r}}=_(),[n,o]=m.useState(f().format("YYYY-MM")),{data:i,isLoading:e,error:a}=C({queryKey:["service-monthly",n],queryFn:()=>w(n),select:c=>c.data,enabled:!!n});return t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,children:t.jsxs(j,{align:"center",justify:"space-between",children:[t.jsx(d.Title,{level:5,children:s("Oylik statistika")}),t.jsx(A,{style:{width:"200px"},picker:"month",value:f(n),format:"YYYY-MM",onChange:(c,y)=>{o(y)}})]})}),t.jsx(l,{xs:24,children:e?t.jsx(Y,{}):t.jsx(t.Fragment,{children:a?t.jsx(F,{error:a}):t.jsx(t.Fragment,{children:t.jsx(j,{gap:"20px",vertical:!0,children:t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,md:8,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:s("Oy")}),value:E(n),formatter:c=>`${c}`,prefix:t.jsx(S,{})})}),t.jsx(l,{xs:24,md:8,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:s("Yil")}),value:n.slice(0,4),formatter:c=>`${c}`,prefix:t.jsx(S,{})})}),t.jsx(l,{xs:24,md:8,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:s("Xizmatlar summasi")}),value:u.get(i,"total_summa",0),precision:2,prefix:t.jsx(T,{}),suffix:r})}),t.jsx(l,{xs:24,md:24,children:t.jsx(O,{data:i})}),t.jsx(l,{xs:24,md:24,children:t.jsx(U,{data:i})})]})})})})})]})},O=({data:s})=>{const{t:r}=x(),[n,o]=m.useState([]);m.useEffect(()=>{const e=u.get(s,"services",[]).map((a,c)=>({type:a.service_name,value:a.total_summa}));o(e)},[s]);const i={data:n};return t.jsx(k,{title:r("Xizmatlar summasi"),children:t.jsx(D,{config:i})})},U=({data:s})=>{const{t:r}=x(),n=[{title:r("Nomi"),dataIndex:"service_name"},{title:r("Soni"),dataIndex:"total_count",render:e=>t.jsx(t.Fragment,{children:g(e,r("ta"))}),sorter:(e,a)=>e.total_count-a.total_count},{title:r("Summa"),dataIndex:"total_summa",render:e=>t.jsx(t.Fragment,{children:g(e)}),sorter:(e,a)=>e.total_summa-a.total_summa}],[o,i]=m.useState([]);return m.useEffect(()=>{const e=u.get(s,"services",[]).map((a,c)=>({...a}));i(e)},[s]),t.jsx(b,{title:r("Xizmatlar"),dataSource:o,columns:n,pagination:!1})},V=()=>{const{t:s}=x(),{company:{currency_type:r}}=_(),{data:n,isLoading:o,error:i}=C({queryKey:["service-total"],queryFn:$,select:e=>e.data});return t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,children:t.jsx(j,{align:"center",justify:"space-between",children:t.jsx(d.Title,{level:5,children:s("Umumiy statistika")})})}),t.jsx(l,{xs:24,children:o?t.jsx(Y,{}):t.jsx(t.Fragment,{children:i?t.jsx(F,{error:i}):t.jsx(t.Fragment,{children:t.jsx(j,{gap:"20px",vertical:!0,children:t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,md:6,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:s("Xizmatlar summasi")}),value:u.get(n,"total_summa",0),precision:2,prefix:t.jsx(T,{}),suffix:r})}),t.jsx(l,{xs:24,md:24,children:t.jsx(H,{data:n})}),t.jsx(l,{xs:24,md:24,children:t.jsx(Q,{data:n})})]})})})})})]})},H=({data:s})=>{const{t:r}=x(),[n,o]=m.useState([]);m.useEffect(()=>{const e=u.get(s,"services",[]).map((a,c)=>({type:a.service_name,value:a.total_summa}));o(e)},[s]);const i={data:n};return t.jsx(k,{title:r("Xizmatlar summasi"),children:t.jsx(D,{config:i})})},Q=({data:s})=>{const{t:r}=x(),n=[{title:r("Nomi"),dataIndex:"service_name"},{title:r("Soni"),dataIndex:"total_count",render:e=>t.jsx(t.Fragment,{children:g(e,r("ta"))}),sorter:(e,a)=>e.total_count-a.total_count},{title:r("Summa"),dataIndex:"total_summa",render:e=>t.jsx(t.Fragment,{children:g(e)}),sorter:(e,a)=>e.total_summa-a.total_summa}],[o,i]=m.useState([]);return m.useEffect(()=>{const e=u.get(s,"services",[]).map((a,c)=>({...a}));i(e)},[s]),t.jsx(b,{title:r("Xizmatlar"),dataSource:o,columns:n,pagination:!1})},W=()=>{const{t:s}=x(),{company:{currency_type:r}}=_(),[n,o]=m.useState(f().format("YYYY")),{data:i,isLoading:e,error:a}=C({queryKey:["finance-monthly",n],queryFn:()=>q(n),select:c=>c.data,enabled:!!n});return t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,children:t.jsxs(j,{align:"center",justify:"space-between",children:[t.jsx(d.Title,{level:5,children:s("Yillik statistika")}),t.jsx(A,{style:{width:"200px"},picker:"year",value:f(n),format:"YYYY",onChange:(c,y)=>{o(y)}})]})}),t.jsx(l,{xs:24,children:e?t.jsx(Y,{}):t.jsx(t.Fragment,{children:a?t.jsx(F,{error:a}):t.jsx(t.Fragment,{children:t.jsx(j,{gap:"20px",vertical:!0,children:t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{xs:24,md:6,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:s("Yil")}),value:n,formatter:c=>`${c}`,prefix:t.jsx(S,{})})}),t.jsx(l,{xs:24,md:6,children:t.jsx(p,{title:t.jsx(d.Title,{level:4,children:s("Xizmatlar summasi")}),value:u.get(i,"total_summa",0),precision:2,prefix:t.jsx(T,{}),suffix:r})}),t.jsx(l,{xs:24,md:24,children:t.jsx(J,{data:i})}),t.jsx(l,{xs:24,md:24,children:t.jsx(Z,{data:i})})]})})})})})]})},J=({data:s})=>{const{t:r}=x(),[n,o]=m.useState([]);m.useEffect(()=>{const e=u.get(s,"services",[]).map((a,c)=>({type:a.service_name,value:a.total_summa}));o(e)},[s]);const i={data:n};return t.jsx(k,{title:r("Xizmatlar summasi"),children:t.jsx(D,{config:i})})},Z=({data:s})=>{const{t:r}=x(),n=[{title:r("Nomi"),dataIndex:"service_name"},{title:r("Soni"),dataIndex:"total_count",render:e=>t.jsx(t.Fragment,{children:g(e,r("ta"))}),sorter:(e,a)=>e.total_count-a.total_count},{title:r("Summa"),dataIndex:"total_summa",render:e=>t.jsx(t.Fragment,{children:g(e)}),sorter:(e,a)=>e.total_summa-a.total_summa}],[o,i]=m.useState([]);return m.useEffect(()=>{const e=u.get(s,"services",[]).map((a,c)=>({...a}));i(e)},[s]),t.jsx(b,{title:r("Xizmatlar"),dataSource:o,columns:n,pagination:!1})},vt=()=>{const{t:s}=x(),r=G();return t.jsxs(t.Fragment,{children:[t.jsx(X,{children:t.jsx("title",{children:s("Xizmatlar statistikasi")})}),t.jsxs(h,{gutter:[20,20],children:[t.jsx(l,{span:24,children:t.jsxs(j,{align:"center",justify:"space-between",children:[t.jsx(B,{children:s("Xizmatlar statistikasi")}),t.jsx(j,{gap:"middle",children:t.jsx(z,{})})]})}),t.jsx(l,{span:24,children:t.jsx(M,{items:r})}),t.jsx(l,{span:24,children:t.jsxs(I,{tabPosition:"top",children:[t.jsx(v.TabPane,{tab:s("Umumiy"),children:t.jsx(V,{})},"1"),t.jsx(v.TabPane,{tab:s("Kunlik"),children:t.jsx(K,{})},"2"),t.jsx(v.TabPane,{tab:s("Oylik"),children:t.jsx(L,{})},"4"),t.jsx(v.TabPane,{tab:s("Yillik"),children:t.jsx(W,{})},"3")]})})]})]})};export{vt as default};
