import{u as j,j as t,o as h,d as I,aw as S,r as d,au as y,V as u,dV as E,X as x,Q as T,aC as b,v as D,aB as p,dW as C,ar as M}from"./index-TTKrRBsV.js";import{B as P}from"./BackButton-BLVW6gZr.js";import{C as w}from"./CustomTabs-DeR7qKEd.js";import{P as q,B as $}from"./PageTitle-OKMYAOp7.js";import{C as O,a as Y}from"./CustomPieChart-BOEEwQKO.js";import{C as m,e as K,f as L,g as R,c as Q,i as V}from"./CustomColumnChart-IbFykfOL.js";import{C as G}from"./CustomDatePicker-dCRvPDUL.js";import{C as B}from"./CustomDataTable-D2IlOEuA.js";import{P as F,E as k}from"./PageLoader-DmyE2ANN.js";import{u as A}from"./useQuery-DXHJDm7O.js";import{R as g,C as i}from"./row-Bxwr5CQq.js";import{C as f}from"./index-Chkbatr3.js";import{T as _}from"./index-CB8Qoy1w.js";import"./LeftOutlined-30Vtg-fw.js";import"./Skeleton-Bgqqq5sk.js";import"./CardTitle-WCnvc5ze.js";import"./Table-DaguqWZh.js";import"./index-CRizbU4B.js";import"./index-DVNdkQR1.js";import"./PlusOutlined-Ba-GwlE8.js";const U=()=>{const{t:e}=j();return[{title:t.jsxs(h,{align:"center",gap:"small",children:[t.jsx(I,{size:20}),t.jsx("span",{children:e("Statistika")})]})},{title:e("Ombor statistikasi")}]},H=()=>{const{t:e}=j(),{company:{currency_type:r}}=S(),[l,o]=d.useState(y().format("YYYY-MM-DD")),{data:n,isLoading:a,error:s}=A({queryKey:["storage-daily",l],queryFn:()=>K(l),select:c=>c.data,enabled:!!l});return t.jsxs(g,{gutter:[20,20],children:[t.jsx(i,{xs:24,children:t.jsxs(h,{align:"center",justify:"space-between",children:[t.jsx(u.Title,{level:5,children:e("Kunlik statistika")}),t.jsx(G,{style:{width:"200px"},picker:"day",value:y(l),format:"YYYY-MM-DD",onChange:(c,v)=>{o(v)}})]})}),t.jsx(i,{xs:24,children:a?t.jsx(F,{}):t.jsx(t.Fragment,{children:s?t.jsx(k,{error:s}):t.jsx(t.Fragment,{children:t.jsx(h,{gap:"20px",vertical:!0,children:t.jsxs(g,{gutter:[20,20],children:[t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Sana")}),value:l,formatter:c=>`${c}`,prefix:t.jsx(E,{})})}),t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Savdolar soni")}),value:x.get(n,"total_count",0),precision:2,prefix:t.jsx(T,{}),suffix:e("ta")})}),t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Savdolar summasi")}),value:x.get(n,"total_summa",0),precision:2,prefix:t.jsx(b,{}),suffix:r})}),t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("To'lovlar")}),value:x.get(n,"total_payments",0),precision:2,prefix:t.jsx(D,{}),suffix:r})}),t.jsx(i,{xs:24,md:24,children:t.jsx(N,{data:n})}),t.jsx(i,{xs:24,md:24,children:t.jsx(z,{data:n})}),t.jsx(i,{xs:24,md:24,children:t.jsx(W,{data:n})})]})})})})})]})},N=({data:e})=>{const{t:r}=j(),[l,o]=d.useState([]);d.useEffect(()=>{const a=x.get(e,"hourly_data",[]).map((s,c)=>({type:s.hour_range,value:s.total_count}));o(a)},[e]);const n={data:l};return t.jsx(f,{title:r("Savdolar soni (soatlar bo'yicha)"),children:t.jsx(O,{config:n})})},z=({data:e})=>{const{t:r}=j(),[l,o]=d.useState([]);d.useEffect(()=>{const a=x.get(e,"hourly_data",[]).map((s,c)=>({type:s.hour_range,value:s.total_summa}));o(a)},[e]);const n={data:l};return t.jsx(f,{title:r("Savdolar summasi (soatlar bo'yicha)"),children:t.jsx(Y,{config:n})})},W=({data:e})=>{const{t:r}=j(),l=[{title:r("Vaqt"),dataIndex:"hour_range"},{title:r("Savdolar soni"),dataIndex:"total_count",render:a=>t.jsx(t.Fragment,{children:p(a,r("ta"))}),sorter:(a,s)=>a.total_count-s.total_count},{title:r("Savdolar summasi"),dataIndex:"total_summa",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_summa-s.total_summa},{title:r("To'lovlar"),dataIndex:"total_payments",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_payments-s.total_payments}],[o,n]=d.useState([]);return d.useEffect(()=>{const a=x.get(e,"hourly_data",[]).map((s,c)=>({...s}));n(a)},[e]),t.jsx(B,{title:r("Savdolar (soatlar bo'yicha)"),dataSource:o,columns:l,pagination:!1})},X=()=>{const{t:e}=j(),{company:{currency_type:r}}=S(),[l,o]=d.useState(y().format("YYYY-MM")),{data:n,isLoading:a,error:s}=A({queryKey:["storage-monthly",l],queryFn:()=>L(l),select:c=>c.data,enabled:!!l});return t.jsxs(g,{gutter:[20,20],children:[t.jsx(i,{xs:24,children:t.jsxs(h,{align:"center",justify:"space-between",children:[t.jsx(u.Title,{level:5,children:e("Oylik statistika")}),t.jsx(G,{style:{width:"200px"},picker:"month",value:y(l),format:"YYYY-MM",onChange:(c,v)=>{o(v)}})]})}),t.jsx(i,{xs:24,children:a?t.jsx(F,{}):t.jsx(t.Fragment,{children:s?t.jsx(k,{error:s}):t.jsx(t.Fragment,{children:t.jsx(h,{gap:"20px",vertical:!0,children:t.jsxs(g,{gutter:[20,20],children:[t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Oy")}),value:C(l),formatter:c=>`${c}`,prefix:t.jsx(E,{})})}),t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Savdolar soni")}),value:x.get(n,"total_count",0),precision:2,prefix:t.jsx(T,{}),suffix:e("ta")})}),t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Savdolar summasi")}),value:x.get(n,"total_summa",0),precision:2,prefix:t.jsx(b,{}),suffix:r})}),t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("To'lovlar")}),value:x.get(n,"total_payments",0),precision:2,prefix:t.jsx(D,{}),suffix:r})}),t.jsx(i,{xs:24,md:24,children:t.jsx(J,{data:n})}),t.jsx(i,{xs:24,md:24,children:t.jsx(Z,{data:n})}),t.jsx(i,{xs:24,md:24,children:t.jsx(tt,{data:n})})]})})})})})]})},J=({data:e})=>{const{t:r}=j(),[l,o]=d.useState([]);d.useEffect(()=>{const a=x.get(e,"daily_stats",[]).map((s,c)=>({type:s.date,value:s.total_count}));o(a)},[e]);const n={data:l};return t.jsx(f,{title:r("Savdolar soni (kunlar bo'yicha)"),children:t.jsx(Y,{config:n})})},Z=({data:e})=>{const{t:r}=j(),[l,o]=d.useState([]);d.useEffect(()=>{const a=x.get(e,"daily_stats",[]).map((s,c)=>({type:s.date,value:s.total_summa}));o(a)},[e]);const n={data:l};return t.jsx(f,{title:r("Savdolar summasi (kunlar bo'yicha)"),children:t.jsx(Y,{config:n})})},tt=({data:e})=>{const{t:r}=j(),l=[{title:r("Sana"),dataIndex:"date"},{title:r("Savdolar soni"),dataIndex:"total_count",render:a=>t.jsx(t.Fragment,{children:p(a,r("ta"))}),sorter:(a,s)=>a.total_count-s.total_count},{title:r("Savdolar summasi"),dataIndex:"total_summa",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_summa-s.total_summa},{title:r("To'lovlar"),dataIndex:"total_payments",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_payments-s.total_payments}],[o,n]=d.useState([]);return d.useEffect(()=>{const a=x.get(e,"daily_stats",[]).map((s,c)=>({...s}));n(a)},[e]),t.jsx(B,{title:r("Savdolar (kunlar bo'yicha)"),dataSource:o,columns:l,pagination:!1})},et=()=>{const{t:e}=j(),{company:{currency_type:r}}=S(),{data:l,isLoading:o,error:n}=A({queryKey:["storage-total"],queryFn:R,select:a=>a.data});return t.jsxs(g,{gutter:[20,20],children:[t.jsx(i,{xs:24,children:t.jsx(h,{align:"center",justify:"space-between",children:t.jsx(u.Title,{level:5,children:e("Umumiy statistika")})})}),t.jsx(i,{xs:24,children:o?t.jsx(F,{}):t.jsx(t.Fragment,{children:n?t.jsx(k,{error:n}):t.jsx(t.Fragment,{children:t.jsx(h,{gap:"20px",vertical:!0,children:t.jsxs(g,{gutter:[20,20],children:[t.jsx(i,{xs:24,md:8,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Savdolar soni")}),value:x.get(l,"storage_count",0),precision:2,prefix:t.jsx(T,{}),suffix:e("ta")})}),t.jsx(i,{xs:24,md:8,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Savdolar summasi")}),value:x.get(l,"storage_total_summa",0),precision:2,prefix:t.jsx(b,{}),suffix:r})}),t.jsx(i,{xs:24,md:8,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("To'lovlar")}),value:x.get(l,"storage_payments",0),precision:2,prefix:t.jsx(D,{}),suffix:r})})]})})})})})]})},at=()=>{const{t:e}=j(),{company:{currency_type:r}}=S(),[l,o]=d.useState(y().format("YYYY")),{data:n,isLoading:a,error:s}=A({queryKey:["storage-monthly",l],queryFn:()=>V(l),select:c=>c.data,enabled:!!l});return t.jsxs(g,{gutter:[20,20],children:[t.jsx(i,{xs:24,children:t.jsxs(h,{align:"center",justify:"space-between",children:[t.jsx(u.Title,{level:5,children:e("Yillik statistika")}),t.jsx(G,{style:{width:"200px"},picker:"year",value:y(l),format:"YYYY",onChange:(c,v)=>{o(v)}})]})}),t.jsx(i,{xs:24,children:a?t.jsx(F,{}):t.jsx(t.Fragment,{children:s?t.jsx(k,{error:s}):t.jsx(t.Fragment,{children:t.jsx(h,{gap:"20px",vertical:!0,children:t.jsxs(g,{gutter:[20,20],children:[t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Yil")}),value:l,formatter:c=>`${c}`,prefix:t.jsx(E,{})})}),t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Savdolar soni")}),value:x.get(n,"total_count",0),precision:2,prefix:t.jsx(T,{}),suffix:e("ta")})}),t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("Savdolar summasi")}),value:x.get(n,"total_summa",0),precision:2,prefix:t.jsx(b,{}),suffix:r})}),t.jsx(i,{xs:24,md:6,children:t.jsx(m,{title:t.jsx(u.Title,{level:4,children:e("To'lovlar")}),value:x.get(n,"total_payments",0),precision:2,prefix:t.jsx(D,{}),suffix:r})}),t.jsx(i,{xs:24,md:24,children:t.jsx(st,{data:n})}),t.jsx(i,{xs:24,md:24,children:t.jsx(rt,{data:n})}),t.jsx(i,{xs:24,md:24,children:t.jsx(nt,{data:n})})]})})})})})]})},st=({data:e})=>{const{t:r}=j(),[l,o]=d.useState([]);d.useEffect(()=>{const a=x.get(e,"monthly_data",[]).map((s,c)=>({type:C(s.month),value:s.total_count}));o(a)},[e]);const n={data:l};return t.jsx(f,{title:r("Savdolar soni (oylar bo'yicha)"),children:t.jsx(Q,{config:n})})},rt=({data:e})=>{const{t:r}=j(),[l,o]=d.useState([]);d.useEffect(()=>{const a=x.get(e,"monthly_data",[]).map((s,c)=>({type:C(s.month),value:s.total_summa}));o(a)},[e]);const n={data:l};return t.jsx(f,{title:r("Savdolar summasi (oylar bo'yicha)"),children:t.jsx(Y,{config:n})})},nt=({data:e})=>{const{t:r}=j(),l=[{title:r("Oy"),dataIndex:"month",render:a=>t.jsx(t.Fragment,{children:C(a)})},{title:r("Savdolar soni"),dataIndex:"total_count",render:a=>t.jsx(t.Fragment,{children:p(a,r("ta"))}),sorter:(a,s)=>a.total_count-s.total_count},{title:r("Savdolar summasi"),dataIndex:"total_summa",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_summa-s.total_summa},{title:r("To'lovlar"),dataIndex:"total_payments",render:a=>t.jsx(t.Fragment,{children:p(a)}),sorter:(a,s)=>a.total_payments-s.total_payments}],[o,n]=d.useState([]);return d.useEffect(()=>{const a=x.get(e,"monthly_data",[]).map((s,c)=>({...s}));n(a)},[e]),t.jsx(B,{title:r("Savdolar (oylar bo'yicha)"),dataSource:o,columns:l,pagination:!1})},Ct=()=>{const{t:e}=j(),r=U();return t.jsxs(t.Fragment,{children:[t.jsx(M,{children:t.jsx("title",{children:e("Ombor statistikasi")})}),t.jsxs(g,{gutter:[20,20],children:[t.jsx(i,{span:24,children:t.jsxs(h,{align:"center",justify:"space-between",children:[t.jsx(q,{children:e("Ombor statistikasi")}),t.jsx(h,{gap:"middle",children:t.jsx(P,{})})]})}),t.jsx(i,{span:24,children:t.jsx($,{items:r})}),t.jsx(i,{span:24,children:t.jsxs(w,{tabPosition:"top",children:[t.jsx(_.TabPane,{tab:e("Umumiy"),children:t.jsx(et,{})},"1"),t.jsx(_.TabPane,{tab:e("Kunlik"),children:t.jsx(H,{})},"2"),t.jsx(_.TabPane,{tab:e("Oylik"),children:t.jsx(X,{})},"4"),t.jsx(_.TabPane,{tab:e("Yillik"),children:t.jsx(at,{})},"3")]})})]})]})};export{Ct as default};
